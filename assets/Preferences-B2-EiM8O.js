import{j as e,bs as B,bt as z,b as P,f as w,D as m,r as a,S as l,H as j,a1 as b,C as p,bB as E,o as L,B as d,d as T,e as c}from"./index-DhoDqbO4.js";import{L as V}from"./Layout-CBhNRllj.js";import{S as u}from"./index-oq0V42Dd.js";import"./use-select-DpWPcQzn.js";const k=new z;function A(n){const t=a.useContext(b);if(!t)throw new Error("UserContext context is not present");const{defaultTheme:i,defaultDensity:s,defaultCurrency:o}=t;return e.jsx(e.Fragment,{children:n.isVisible&&e.jsx(p,{children:e.jsx(E,{columns:1,items:[{label:"Currency",value:o.label},{label:"Default theme",value:i.label},{label:"Layout density",value:s.label},{label:"",value:e.jsx(L,{textAlign:"right",variant:"p",children:e.jsx(d,{onClick:n.editHandler,children:"Edit"})})}]})})})}function G(n){const t=a.useContext(b),{defaultTheme:i,themeOptions:s,setDefaultTheme:o,defaultCurrency:C,setDefaultCurrency:y,currencyOptions:v,densityOptions:D,defaultDensity:U,setDefaultDensity:g}=t,[x,S]=a.useState(C),[h,F]=a.useState(i),[f,H]=a.useState({label:"Comfortable",value:"normal"}),O=()=>{o(h),g(f),y(x),n.saveHandler()};return e.jsx(e.Fragment,{children:n.isVisible&&e.jsx("form",{onSubmit:r=>r.preventDefault(),children:e.jsx(T,{actions:e.jsxs(l,{direction:"horizontal",size:"xs",children:[e.jsx(d,{formAction:"none",variant:"link",onClick:n.cancelHandler,children:"Cancel"}),e.jsx(d,{variant:"primary",onClick:O,children:"Save"})]}),children:e.jsx(p,{header:e.jsx(j,{variant:"h2",children:"General configuration"}),children:e.jsxs(l,{direction:"vertical",size:"l",children:[e.jsx(c,{label:"Currency",children:e.jsx(u,{selectedOption:x,onChange:({detail:r})=>{S(r.selectedOption)},options:v})}),e.jsx(c,{label:"Default Theme",children:e.jsx(u,{selectedOption:h,onChange:({detail:r})=>F(r.selectedOption),options:s})}),e.jsx(c,{label:"Default Layout Density",children:e.jsx(u,{selectedOption:f,onChange:({detail:r})=>H(r.selectedOption),options:D})})]})})})})})}function Q(){const[n,t]=a.useState(!1),[i,s]=a.useState(!0);return e.jsxs(l,{size:"m",children:[e.jsx(j,{variant:"h1",actions:e.jsx(l,{direction:"horizontal",size:"xs"}),children:"Preferences"}),e.jsxs(l,{direction:"vertical",size:"l",children:[e.jsx(A,{isVisible:i,editHandler:()=>{t(!0),s(!1)}}),e.jsx(G,{isVisible:n,saveHandler:()=>{t(!1),s(!0)},cancelHandler:()=>{t(!1),s(!0)}})]})]})}function R(){const n=P();return e.jsx(w,{items:[{text:"Dashboard",href:"/"+m.path},{text:"Preferences",href:`${m.path}/preferences`}],expandAriaLabel:"Show path",ariaLabel:"Breadcrumbs",onFollow:t=>{t.detail.external||(t.preventDefault(),n(t.detail.href))}})}function I(){return e.jsx(e.Fragment,{children:e.jsx(B,{client:k,children:e.jsx(V,{content:e.jsx(Q,{}),breadcrumbs:e.jsx(R,{})})})})}export{I as default};
