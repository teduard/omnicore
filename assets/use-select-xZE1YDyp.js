import{aM as Ze,R as i,al as Ue,aN as vt,t as ge,q as $,N as Je,G as Be,g as ye,r as k,e as He,a1 as bt,aO as et,p as Oe,aP as tt,aQ as Ke,n as me,aR as nt,aS as Ge,aT as $e,aU as Ve,aH as wt,o as xt,Z as yt,aV as se,aW as kt,aX as Et}from"./index-Bj2MUn9q.js";import{I as St}from"./ExpenseLayout-DQHk7F6L.js";const at={root:"awsui_root_vrgzu_11c7p_145",recovery:"awsui_recovery_vrgzu_11c7p_180"};function Rt({children:e}){return i.createElement("div",{className:at.root},e)}const Tn=({statusType:e,empty:n,loadingText:t,finishedText:a,filteringResultsText:r,errorText:s,recoveryText:o,isEmpty:l,isNoMatch:c,noMatch:u,onRecoveryClick:d,hasRecoveryCallback:f=!1,errorIconAriaLabel:_})=>{const w=Ze(e),b={isSticky:!0,content:null,hasRecoveryButton:!1};return e==="loading"?b.content=i.createElement(Ue,{type:"loading"},t):e==="error"?(b.hasRecoveryButton=!!o&&f,b.content=i.createElement("span",null,i.createElement(Ue,{type:"error",__display:"inline",__animate:w!=="error",iconAriaLabel:_},s)," ",b.hasRecoveryButton&&i.createElement(vt,{onFollow:()=>ge(d),variant:"recovery",className:at.recovery},o))):l&&n?b.content=n:c&&u?b.content=u:r?b.content=r:e==="finished"&&a&&(b.content=a,b.isSticky=!1),b},We={root:"awsui_root_1afi9_1n6s2_145",hidden:"awsui_hidden_1afi9_1n6s2_176","no-items":"awsui_no-items_1afi9_1n6s2_179"},Fn=({content:e,id:n,hasItems:t=!0})=>i.createElement("div",{className:$(We.root,{[We.hidden]:e===null,[We["no-items"]]:!t})},e&&i.createElement(Je,{id:n},i.createElement(Rt,null,e))),M={placeholder:"awsui_placeholder_dwuol_r15lx_145",item:"awsui_item_dwuol_r15lx_150",checkbox:"awsui_checkbox_dwuol_r15lx_154","option-group":"awsui_option-group_dwuol_r15lx_163",filter:"awsui_filter_dwuol_r15lx_167",trigger:"awsui_trigger_dwuol_r15lx_172","layout-strut":"awsui_layout-strut_dwuol_r15lx_178","list-bottom":"awsui_list-bottom_dwuol_r15lx_184","selected-icon":"awsui_selected-icon_dwuol_r15lx_188","show-label-tag":"awsui_show-label-tag_dwuol_r15lx_193","inline-token-trigger":"awsui_inline-token-trigger_dwuol_r15lx_197","inline-token-list":"awsui_inline-token-list_dwuol_r15lx_204","inline-token-hidden-placeholder":"awsui_inline-token-hidden-placeholder_dwuol_r15lx_218","inline-token-counter":"awsui_inline-token-counter_dwuol_r15lx_224","inline-label-trigger-wrapper":"awsui_inline-label-trigger-wrapper_dwuol_r15lx_228","inline-label-wrapper":"awsui_inline-label-wrapper_dwuol_r15lx_232","inline-label":"awsui_inline-label_dwuol_r15lx_228","inline-label-disabled":"awsui_inline-label-disabled_dwuol_r15lx_257","inline-label-inline-tokens":"awsui_inline-label-inline-tokens_dwuol_r15lx_261","disabled-reason-tooltip":"awsui_disabled-reason-tooltip_dwuol_r15lx_266"},Bn=i.forwardRef(({filteringType:e,...n},t)=>e==="none"?null:i.createElement(St,{ref:t,type:"visualSearch",className:M.filter,autoComplete:!1,disableBrowserAutocorrect:!0,invalid:!1,__noBorderRadius:!0,...n,nativeInputAttributes:{"aria-expanded":!0,"aria-haspopup":"listbox",role:"combobox",autoCorrect:"off",autoCapitalize:"off",...n.nativeInputAttributes},__skipNativeAttributesWarnings:!0}));function It(e){const n=[];let t;return e.forEach((a,r)=>{var s;if(a.type==="parent"){const o={type:"parent",option:a,index:r,children:[]};t=o,n.push(o)}else a.type==="child"?((s=t?.children)!==null&&s!==void 0?s:n).push({type:"child",option:a,index:r}):(t=void 0,n.push({type:"child",option:a,index:r}))}),n}const q={option:"awsui_option_1p2cx_cbqrk_153",disabled:"awsui_disabled_1p2cx_cbqrk_190",parent:"awsui_parent_1p2cx_cbqrk_193",highlighted:"awsui_highlighted_1p2cx_cbqrk_196",content:"awsui_content_1p2cx_cbqrk_200","label-content":"awsui_label-content_1p2cx_cbqrk_207",label:"awsui_label_1p2cx_cbqrk_207",tag:"awsui_tag_1p2cx_cbqrk_214","label-tag":"awsui_label-tag_1p2cx_cbqrk_215","label-prefix":"awsui_label-prefix_1p2cx_cbqrk_225",tags:"awsui_tags_1p2cx_cbqrk_238",description:"awsui_description_1p2cx_cbqrk_239",selected:"awsui_selected_1p2cx_cbqrk_250",icon:"awsui_icon_1p2cx_cbqrk_264","filtering-match-highlight":"awsui_filtering-match-highlight_1p2cx_cbqrk_271","trigger-variant":"awsui_trigger-variant_1p2cx_cbqrk_286","custom-content":"awsui_custom-content_1p2cx_cbqrk_292"},Nt=(e,n)=>{if(n.length>1e4)return{noMatches:[e],matches:null};const t=n.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&"),a=new RegExp(t,"gi"),r=e.split(a),s=e.match(a);return{noMatches:r,matches:s}};function Qe({str:e,labelRef:n}){return i.createElement("mark",{ref:n,className:q["filtering-match-highlight"]},e)}function Ce({str:e,highlightText:n,labelRef:t}){if(!e||!n)return i.createElement("span",{ref:t},e);if(e===n)return i.createElement(Qe,{labelRef:t,str:e});const{noMatches:a,matches:r}=Nt(e,n),s=[];return a.forEach((o,l)=>{s.push(i.createElement("span",{key:`noMatch-${l}`},o)),r&&l<r.length&&s.push(i.createElement(Qe,{key:`match-${l}`,str:r[l]}))}),i.createElement("span",{ref:t},s)}const je={label:"awsui_label_1q5vz_ocied_5"},Ot=({labelContainerRef:e,labelRef:n,labelId:t,label:a,prefix:r,highlightText:s,triggerVariant:o})=>i.createElement("span",{id:t,ref:e,className:$(q.label,je.label,o&&q["trigger-variant"])},r&&i.createElement("span",{className:$(q["label-prefix"],o&&q["trigger-variant"])},r," "),i.createElement(Ce,{labelRef:n,str:a,highlightText:s})),Ct=({labelTag:e,highlightText:n,triggerVariant:t})=>e?i.createElement("span",{className:$(q["label-tag"],t&&q["trigger-variant"])},i.createElement(Ce,{str:e,highlightText:n})):null,Mt=({description:e,highlightedOption:n,highlightText:t,selectedOption:a,triggerVariant:r})=>e?i.createElement("span",{className:$(q.description,{[q["trigger-variant"]]:r,[q.highlighted]:n,[q.selected]:a})},i.createElement(Ce,{str:e,highlightText:t})):null,qt=({tags:e,highlightedOption:n,highlightText:t,selectedOption:a,triggerVariant:r})=>e?i.createElement("span",{className:$(q.tags,{[q.highlighted]:n,[q.selected]:a})},e.map((s,o)=>i.createElement("span",{key:o,className:$(q.tag,r&&q["trigger-variant"])},i.createElement(Ce,{str:s,highlightText:t})))):null,zt=({filteringTags:e,highlightedOption:n,highlightText:t,selectedOption:a,triggerVariant:r})=>{if(!t||!e)return null;const s=t.toLowerCase();return i.createElement("span",{className:$(q.tags,{[q.highlighted]:n,[q.selected]:a})},e.map((o,l)=>o.toLowerCase().indexOf(s)!==-1?i.createElement("span",{className:$(q.tag,r&&q["trigger-variant"]),key:l},i.createElement(Ce,{str:o,highlightText:t})):null))},Pt=e=>!e.name&&!e.url&&!e.svg?null:i.createElement("span",{className:q.icon},i.createElement(Be,{...e})),Ne=({option:e,highlightText:n,triggerVariant:t=!1,isGroupOption:a=!1,highlightedOption:r=!1,selectedOption:s=!1,disableTitleTooltip:o=!1,labelContainerRef:l,labelRef:c,labelId:u,customContent:d,...f})=>{var _,w;if(!e)return null;if(d)return i.createElement("div",{"data-value":e.value,className:$(q.option)},i.createElement("div",{className:$(q["custom-content"])},d));const{disabled:b}=e,S=ye(f),R=e.labelContent?"div":"span",z=$(q.option,b&&q.disabled,a&&q.parent,r&&q.highlighted,S.className),y=e.__customIcon||i.createElement(Pt,{name:e.iconName,url:e.iconUrl,svg:e.iconSvg,alt:e.iconAlt,ariaLabel:e.iconAriaLabel,size:"normal"});return i.createElement(R,{...S,"data-value":e.value,className:z,lang:e.lang,title:o?void 0:(_=e.label)!==null&&_!==void 0?_:e.value},y,i.createElement(R,{className:q.content},i.createElement(R,{className:q["label-content"]},e.labelContent?i.createElement(R,{className:$(q.label,je.label)},e.labelContent):i.createElement(Ot,{labelContainerRef:l,labelRef:c,labelId:u,label:(w=e.label)!==null&&w!==void 0?w:e.value,prefix:e.__labelPrefix,highlightText:n,triggerVariant:t}),i.createElement(Ct,{labelTag:e.labelTag,highlightText:n,triggerVariant:t})),i.createElement(Mt,{description:e.description,highlightedOption:r,selectedOption:s,highlightText:n,triggerVariant:t}),i.createElement(qt,{tags:e.tags,highlightedOption:r,selectedOption:s,highlightText:n,triggerVariant:t}),i.createElement(zt,{filteringTags:e.filteringTags,highlightedOption:r,selectedOption:s,highlightText:n,triggerVariant:t})))},Ie={parent:"awsui_parent_2dmmi_qu62t_5","option-content":"awsui_option-content_2dmmi_qu62t_6"},$t=({isChild:e,value:n,...t})=>{const a=t,r={action:"select",detail:{label:{selector:[`.${je.label}`,`.${Ie["option-content"]}`]}}};let s;return e&&a["data-group-index"]&&a["data-in-group-index"]||a["data-child-index"]?s=`${a["data-group-index"]},${a["data-in-group-index"]||a["data-child-index"]}`:a["data-test-index"]&&(s=`${a["data-test-index"]}`),s&&(r.detail.position=s),n&&(r.detail.value=n),e&&(r.detail.groupLabel={root:"body",selector:`.${Ie.parent}[data-group-index="${a["data-group-index"]}"] .${Ie["option-content"]}`}),r},B={"selectable-item":"awsui_selectable-item_15o6u_11e6r_145",parent:"awsui_parent_15o6u_11e6r_164",interactiveGroups:"awsui_interactiveGroups_15o6u_11e6r_164",highlighted:"awsui_highlighted_15o6u_11e6r_164",selected:"awsui_selected_15o6u_11e6r_164","selectable-item-content":"awsui_selectable-item-content_15o6u_11e6r_167","pad-bottom":"awsui_pad-bottom_15o6u_11e6r_171",virtual:"awsui_virtual_15o6u_11e6r_178","has-background":"awsui_has-background_15o6u_11e6r_181",child:"awsui_child_15o6u_11e6r_184",disabled:"awsui_disabled_15o6u_11e6r_190","is-keyboard":"awsui_is-keyboard_15o6u_11e6r_205","visual-refresh":"awsui_visual-refresh_15o6u_11e6r_215","next-item-selected":"awsui_next-item-selected_15o6u_11e6r_229","previous-item-selected":"awsui_previous-item-selected_15o6u_11e6r_239",sticky:"awsui_sticky_15o6u_11e6r_271","with-scrollbar":"awsui_with-scrollbar_15o6u_11e6r_290","after-header":"awsui_after-header_15o6u_11e6r_293","measure-strut":"awsui_measure-strut_15o6u_11e6r_322","screenreader-content":"awsui_screenreader-content_15o6u_11e6r_334","option-content":"awsui_option-content_15o6u_11e6r_340","select-all":"awsui_select-all_15o6u_11e6r_344"},Tt=({children:e,ariaSelected:n,ariaChecked:t,selected:a,highlighted:r,disabled:s,hasBackground:o,isParent:l,isChild:c,isSelectAll:u,virtualPosition:d,padBottom:f,disableContentStyling:_,isNextSelected:w,isPreviousSelected:b,useInteractiveGroups:S,screenReaderContent:R,ariaPosinset:z,ariaSetsize:y,highlightType:x,value:E,sticky:g,afterHeader:C,withScrollbar:v,...N},O)=>{const h=bt(),{className:m,...F}=ye(N),j=$(m,B["selectable-item"],{[B.selected]:a,[B.highlighted]:r,[B["has-background"]]:o,[B.parent]:l,[Ie.parent]:l,[B.child]:c,[B["select-all"]]:u,[B["is-keyboard"]]:x==="keyboard",[B.disabled]:s,[B.virtual]:d!==void 0&&!g,[B["pad-bottom"]]:f,[B["next-item-selected"]]:w,[B["previous-item-selected"]]:b,[B.interactiveGroups]:S,[B.sticky]:g,[B["after-header"]]:!!C,[B["with-scrollbar"]]:v,[B["visual-refresh"]]:h}),K=$(B["option-content"],Ie["option-content"],{[B["selectable-item-content"]]:!_}),V=k.useRef(null),Q=k.useRef(null);k.useLayoutEffect(()=>{r&&R&&(V.current&&V.current.setAttribute("aria-hidden","true"),Q.current&&(Q.current.textContent=R))},[r,R,V,Q]);const X=d!==void 0?{transform:`translateY(${d}px)`}:void 0,D={};return l&&t===void 0?D.role="presentation":(D.role="option",D["aria-disabled"]=s,n!==void 0&&(D["aria-selected"]=n),t!==void 0&&(D["aria-checked"]=t),z&&y&&(D["aria-posinset"]=z,D["aria-setsize"]=y),N.ariaDescribedby&&(D["aria-describedby"]=N.ariaDescribedby)),i.createElement("div",{className:j,style:X,...D,...F,...l||s?{}:He($t({isChild:c,value:E,...N}))},i.createElement("div",{className:K,ref:V},e),i.createElement("div",{className:B["measure-strut"],ref:O}),i.createElement("div",{className:B["screenreader-content"],ref:Q}))},rt=i.forwardRef(Tt),it=e=>{var n;return{type:"group",index:(n=e.virtualIndex)!==null&&n!==void 0?n:e.index,option:e.option.option,disabled:e.disabled}},Ft=e=>{var n,t,a,r;return{type:"item",index:(n=e.virtualIndex)!==null&&n!==void 0?n:e.index,option:e.option.option,selected:e.selected,highlighted:e.highlighted,disabled:e.disabled,parent:e.parentProps?it({index:(t=e.parentProps)===null||t===void 0?void 0:t.index,virtualIndex:(a=e.parentProps)===null||a===void 0?void 0:a.virtualIndex,option:(r=e.parentProps)===null||r===void 0?void 0:r.option,disabled:e.disabled}):null}},Bt=({index:e,virtualIndex:n,option:t,highlighted:a,selected:r,filteringValue:s,hasCheckbox:o,virtualPosition:l,padBottom:c,isNextSelected:u,isPreviousSelected:d,screenReaderContent:f,ariaPosinset:_,ariaSetsize:w,highlightType:b,withScrollbar:S,sticky:R,renderOption:z,parentProps:y,...x},E)=>{const g=ye(x),C=t.type==="parent",v=t.type==="child",N=t.option,O=t.disabled||N.disabled,h=O&&N.disabledReason?N.disabledReason:"",m=!!h,F=k.useRef(null),{descriptionEl:j,descriptionId:K}=et(h),[V,Q]=k.useState(!0);k.useEffect(()=>Q(!0),[a]);const X=J=>J.type==="parent"?it({option:J,index:e,virtualIndex:n,disabled:!!O}):Ft({option:J,index:e,virtualIndex:n,disabled:!!O,highlighted:!!a,selected:!!r,parentProps:y}),L=(J=>z?z({item:X(J),filterText:s}):null)(t);return i.createElement(rt,{disableContentStyling:!!L,ariaSelected:!!r,selected:r,isNextSelected:u,isPreviousSelected:d,highlighted:a,disabled:t.disabled,isParent:C,isChild:v,ref:Oe(E,F),virtualPosition:l,padBottom:c,screenReaderContent:f,ariaPosinset:_,ariaSetsize:w,highlightType:b,ariaDescribedby:m?K:"",value:t.option.value,withScrollbar:S,sticky:R,...g},i.createElement("div",{className:$(M.item,!C&&N.labelTag&&M["show-label-tag"])},!L&&o&&!C&&i.createElement("div",{className:M.checkbox},i.createElement(tt,{checked:r||!1,disabled:t.disabled})),i.createElement(Ne,{customContent:L,option:{...N,disabled:O},highlightedOption:a,selectedOption:r,highlightText:s,isGroupOption:C}),!L&&!o&&!C&&r&&i.createElement("div",{className:M["selected-icon"]},i.createElement(Be,{name:"check"})),!L&&m&&i.createElement(i.Fragment,null,j,a&&V&&i.createElement(Ke,{className:M["disabled-reason-tooltip"],getTrack:()=>F.current,content:h,position:"right",onEscape:()=>Q(!1)}))))},Dt=i.memo(i.forwardRef(Bt)),st=e=>{var n,t;return{type:"group",index:(n=e.virtualIndex)!==null&&n!==void 0?n:e.index,option:e.option.option,indeterminate:(t=e.indeterminate)!==null&&t!==void 0?t:!1,selected:e.selected,highlighted:e.highlighted,disabled:e.disabled}},Lt=e=>{var n,t,a,r,s,o,l,c,u,d;return{type:"item",index:(n=e.virtualIndex)!==null&&n!==void 0?n:e.index,option:e.option.option,selected:e.selected,highlighted:e.highlighted,disabled:e.disabled,parent:e.parentProps?st({index:(t=e.parentProps)===null||t===void 0?void 0:t.index,virtualIndex:(a=e.parentProps)===null||a===void 0?void 0:a.virtualIndex,option:(r=e.parentProps)===null||r===void 0?void 0:r.option,disabled:e.disabled,highlighted:(o=(s=e.parentProps)===null||s===void 0?void 0:s.highlighted)!==null&&o!==void 0?o:!1,indeterminate:(c=(l=e.parentProps)===null||l===void 0?void 0:l.indeterminate)!==null&&c!==void 0?c:!1,selected:(d=(u=e.parentProps)===null||u===void 0?void 0:u.selected)!==null&&d!==void 0?d:!1}):null}},Wt=({index:e,virtualIndex:n,option:t,highlighted:a,selected:r,filteringValue:s,hasCheckbox:o,virtualPosition:l,padBottom:c,isNextSelected:u,isPreviousSelected:d,indeterminate:f,screenReaderContent:_,ariaPosinset:w,ariaSetsize:b,highlightType:S,withScrollbar:R,sticky:z,renderOption:y,parentProps:x,...E},g)=>{const C=ye(E),v=t.type==="parent",N=t.type==="child",O=t.type==="select-all",h=t.option,m=t.disabled||h.disabled,F=m&&(t.disabledReason||h.disabledReason)?t.disabledReason||h.disabledReason:"",j=!!F,K=k.useRef(null),V=M.item,{descriptionId:Q,descriptionEl:X}=et(F),[D,L]=k.useState(!0);k.useEffect(()=>L(!0),[a]);const J=ee=>ee.type==="parent"?st({option:ee,index:e,virtualIndex:n,disabled:!!m,highlighted:!!a,selected:!!r,indeterminate:f??!1}):ee.type==="select-all"?{type:"select-all",option:ee.option,indeterminate:f??!1,selected:!!r,highlighted:!!a}:Lt({option:ee,index:e,virtualIndex:n,disabled:!!m,highlighted:!!a,selected:!!r,parentProps:x}),re=(ee=>y?y({item:J(ee),filterText:s}):null)(t);return i.createElement(rt,{disableContentStyling:!!re,ariaSelected:v&&f?void 0:!!r,ariaChecked:v&&f?"mixed":!!r,selected:r,isNextSelected:u,isPreviousSelected:d,highlighted:a,disabled:m,isParent:v,isChild:N,isSelectAll:O,highlightType:S,ref:Oe(g,K),virtualPosition:l,padBottom:c,useInteractiveGroups:!0,screenReaderContent:_,ariaPosinset:w,ariaSetsize:b,ariaDescribedby:j?Q:"",value:t.option.value,afterHeader:t.afterHeader,withScrollbar:R,sticky:z,...C},i.createElement("div",{className:V},!re&&o&&i.createElement("div",{className:M.checkbox},i.createElement(tt,{checked:r,indeterminate:(v||O)&&f,disabled:m})),i.createElement(Ne,{customContent:re,option:{...h,disabled:m},highlightedOption:a,selectedOption:r,highlightText:s,isGroupOption:v})),!re&&j&&i.createElement(i.Fragment,null,X,a&&D&&i.createElement(Ke,{className:M["disabled-reason-tooltip"],getTrack:()=>K.current,content:F,position:"right",onEscape:()=>L(!1)})))},At=i.memo(i.forwardRef(Wt));function Ht({children:e,virtual:n,ariaLabelledby:t,ariaDisabled:a}){return i.createElement("div",{role:"group",className:$(M["option-group"],n&&M.virtual),"aria-labelledby":t,"aria-disabled":a},e)}const Te=new WeakMap,Kt=e=>Te.get(e),Gt=(e,n)=>{let t=1,a=0,r=1,s=null;e.forEach(o=>{const l=o.type==="parent",c=l?o:n(o);c&&c!==s&&(s=c,a+=1,r=1),l?Te.set(o,{groupIndex:a}):c&&o.type==="child"?Te.set(o,{throughIndex:t++,groupIndex:a,inGroupIndex:r++}):(o.type==="child"||!o.type)&&Te.set(o,{throughIndex:t++})})},jt=({option:e,index:n,getOptionProps:t,filteringValue:a,checkboxes:r=!1})=>{const s=t(e,n);s.filteringValue=a;const{inGroupIndex:o,groupIndex:l,throughIndex:c}=Kt(e)||{};return{...s,hasCheckbox:r,"data-group-index":l,"data-child-index":o,"data-test-index":c}},lt=({options:e,getOptionProps:n,filteringValue:t,highlightType:a,idPrefix:r,checkboxes:s=!1,hasDropdownStatus:o,virtualItems:l,useInteractiveGroups:c,screenReaderContent:u,ariaSetsize:d,withScrollbar:f,firstOptionSticky:_,stickyOptionRef:w,renderOption:b})=>{const S=({index:y,option:x})=>{const E=l&&l[y],g=E?E.index:y;return jt({option:x,index:g,getOptionProps:n,filteringValue:x.type==="select-all"?"":t,checkboxes:s})},R=(y,x,E)=>{const g=l&&l[x],C=g?g.index:x,v=x===e.length-1,N=!o&&v,O=c?At:Dt,h=_&&C===0;return i.createElement(O,{index:x,virtualIndex:g?g.index:void 0,key:C,...y,virtualPosition:g?.start,ref:h&&w?w:g&&g.measureRef,padBottom:N,screenReaderContent:u,ariaPosinset:C+1,ariaSetsize:d,highlightType:a.type,withScrollbar:f,sticky:h,renderOption:b,parentProps:E})};return It(e).map(y=>{var x;const E=y.index,g=S(y);if(y.type==="parent"){const{children:C}=y,v=(x=g.id)!==null&&x!==void 0?x:`${r}-option-${E}`;return i.createElement(Ht,{key:`group-${E}`,virtual:l?.[E]!==void 0,ariaLabelledby:v,ariaDisabled:g["aria-disabled"]},R(g,E),C.map(N=>{var O,h,m,F,j,K;return i.createElement(i.Fragment,{key:N.index},R(S(N),N.index,{option:y.option,disabled:(O=y.option.disabled)!==null&&O!==void 0?O:!1,index:E,virtualIndex:(m=(h=l?.[E])===null||h===void 0?void 0:h.index)!==null&&m!==void 0?m:void 0,highlighted:(F=g.highlighted)!==null&&F!==void 0?F:!1,selected:(j=g.selected)!==null&&j!==void 0?j:!1,indeterminate:(K=g.indeterminate)!==null&&K!==void 0?K:!1}))}))}return R(g,E)})};function ot({index:e,menuEl:n}){const t=n.querySelector(`[data-mouse-target="${e}"]`);if(t&&n.clientHeight!==void 0&&n.clientHeight>15){const a=n.getBoundingClientRect(),r=t.getBoundingClientRect(),s=parseInt(n.style.scrollPaddingBlockStart)||0;r.top<a.top+s||r.height>a.height-s?n.scrollBy({top:r.top-a.top-s}):r.bottom>a.bottom&&n.scrollBy({top:r.bottom-a.bottom})}}const ct=31,Ut=({menuProps:e,getOptionProps:n,filteredOptions:t,filteringValue:a,highlightType:r,checkboxes:s,hasDropdownStatus:o,listBottom:l,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,isMultiSelect:f,renderOption:_},w)=>{const b=me("select-list-"),S=k.useRef(null),[R,z]=k.useState(d?ct:0),[y,x]=nt(v=>(S.current&&z(S.current.clientHeight),{inner:v.contentBoxWidth,outer:v.borderBoxWidth})),E=e.ref,g=Oe(x,E);k.useImperativeHandle(w,()=>v=>{const N=d&&v===0;r.moveFocus&&E.current&&!N&&ot({index:v,menuEl:E.current})},[d,r.moveFocus,E]);const C=!!y&&y.inner<y.outer;return i.createElement(Ge,{...e,ref:g,stickyItemBlockSize:R,isMultiSelect:f},lt({renderOption:_,options:t,getOptionProps:n,filteringValue:a,idPrefix:b,highlightType:r,checkboxes:s,hasDropdownStatus:o,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,stickyOptionRef:S,withScrollbar:C}),l?i.createElement("div",{role:"option",className:M["list-bottom"]},l):null)},Dn=k.forwardRef(Ut),Vt={"button-trigger":"awsui_button-trigger_l32fn_xo3sj_5"},ne={"button-trigger":"awsui_button-trigger_18eso_el76d_161",arrow:"awsui_arrow_18eso_el76d_161","in-filtering-token-root":"awsui_in-filtering-token-root_18eso_el76d_221","in-filtering-token-nested":"awsui_in-filtering-token-nested_18eso_el76d_221","has-caret":"awsui_has-caret_18eso_el76d_257",placeholder:"awsui_placeholder_18eso_el76d_260",pressed:"awsui_pressed_18eso_el76d_273",disabled:"awsui_disabled_18eso_el76d_276","in-filtering-token":"awsui_in-filtering-token_18eso_el76d_221",readonly:"awsui_readonly_18eso_el76d_297",invalid:"awsui_invalid_18eso_el76d_319",warning:"awsui_warning_18eso_el76d_328","custom-option":"awsui_custom-option_18eso_el76d_337","inline-tokens":"awsui_inline-tokens_18eso_el76d_342"},Qt=({children:e,pressed:n,hideCaret:t=!1,disabled:a=!1,readOnly:r=!1,invalid:s=!1,warning:o=!1,inlineTokens:l,inFilteringToken:c,ariaHasPopup:u,ariaLabel:d,ariaLabelledby:f,ariaDescribedby:_,ariaControls:w,onKeyDown:b,onKeyUp:S,onMouseDown:R,onClick:z,onFocus:y,onBlur:x,hasCustomContent:E=!1,autoFocus:g,...C},v)=>{const N=ye(C);let O={...N,type:"button",className:$(ne["button-trigger"],Vt["button-trigger"],N.className,n&&ne.pressed,a&&ne.disabled,s&&ne.invalid,o&&!s&&ne.warning,!t&&ne["has-caret"],r&&ne.readonly,c&&ne["in-filtering-token"],c&&ne[`in-filtering-token-${c}`],l&&ne["inline-tokens"],!!E&&ne["custom-option"]),disabled:a,"aria-expanded":n,"aria-label":d,"aria-labelledby":f,"aria-describedby":_,"aria-haspopup":u??"listbox","aria-controls":w,"aria-disabled":r&&!a?"true":void 0,autoFocus:g};r||(O={...O,onKeyDown:b&&(m=>Ve(b,m)),onKeyUp:S&&(m=>Ve(S,m)),onMouseDown:R&&(m=>$e(R,{},m)),onClick:z&&(m=>$e(z,{},m)),onFocus:y&&(m=>$e(y,{},m)),onBlur:x&&(m=>$e(x,{relatedTarget:m.relatedTarget},m))}),s&&(O["aria-invalid"]=s);const h={action:n?"collapse":"expand",detail:{label:{root:"self"}}};return i.createElement("button",{ref:v,...O,...a||r?{}:He(h)},e,!t&&i.createElement("span",{className:ne.arrow},i.createElement(Be,{name:"caret-down-filled",variant:a||r?"disabled":"normal"})))},Xt=i.forwardRef(Qt),ut={"dismiss-button":"awsui_dismiss-button_dm8gx_1wq3k_145",token:"awsui_token_dm8gx_1wq3k_146",root:"awsui_root_dm8gx_1wq3k_150","has-items":"awsui_has-items_dm8gx_1wq3k_181","no-padding":"awsui_no-padding_dm8gx_1wq3k_181"},U={root:"awsui_root_1i2wg_18qq8_161","dismiss-button":"awsui_dismiss-button_1i2wg_18qq8_193","dismiss-button-inline":"awsui_dismiss-button-inline_1i2wg_18qq8_233",icon:"awsui_icon_1i2wg_18qq8_240","icon-inline":"awsui_icon-inline_1i2wg_18qq8_246","token-normal":"awsui_token-normal_1i2wg_18qq8_251","token-inline":"awsui_token-inline_1i2wg_18qq8_258","token-option-inline":"awsui_token-option-inline_1i2wg_18qq8_284","token-box":"awsui_token-box_1i2wg_18qq8_288","token-box-without-dismiss":"awsui_token-box-without-dismiss_1i2wg_18qq8_307","token-box-inline":"awsui_token-box-inline_1i2wg_18qq8_311","disable-padding":"awsui_disable-padding_1i2wg_18qq8_331","token-box-readonly":"awsui_token-box-readonly_1i2wg_18qq8_338","token-box-disabled":"awsui_token-box-disabled_1i2wg_18qq8_339"},dt={root:"awsui_root_1epxo_12cv0_5","dismiss-button":"awsui_dismiss-button_1epxo_12cv0_6"},Yt=k.forwardRef(Zt);function Zt({disabled:e,dismissLabel:n,onDismiss:t,readOnly:a,inline:r},s){const o={action:"dismiss",detail:{label:{root:"self"}}};return i.createElement("button",{ref:s,type:"button",className:$(U["dismiss-button"],ut["dismiss-button"],dt["dismiss-button"],r&&U["dismiss-button-inline"]),"aria-disabled":e||a?!0:void 0,onClick:()=>{e||a||!t||ge(t)},"aria-label":n,...e||a?{}:He(o)},i.createElement(Be,{name:"close"}))}const Jt={token:"awsui_token_v05f6_c8hk2_5"};function en({label:e,ariaLabel:n,labelTag:t,description:a,variant:r="normal",disabled:s,readOnly:o,icon:l,tags:c,dismissLabel:u,onDismiss:d,tooltipContent:f,role:_,disableInnerPadding:w,__internalRootRef:b,...S}){const R=ye(S),z=k.useRef(null),y=k.useRef(null),[x,E]=k.useState(!1),[g,C]=k.useState(!1),v=r==="inline",N=me(),O=()=>{const m=y.current,F=z.current;if(m&&F)return m.offsetWidth>F.offsetWidth};wt(z,()=>{var m;v&&C((m=O())!==null&&m!==void 0?m:!1)});const h=()=>{const F=typeof e=="string"||typeof e=="number"?{label:String(e)}:{labelContent:e};return v?{...F,disabled:s,__customIcon:l&&i.createElement("span",{className:$(U.icon,U["icon-inline"])},l)}:{...F,disabled:s,labelTag:t,description:a,tags:c,__customIcon:l&&i.createElement("span",{className:U.icon},l)}};return i.createElement("div",{...R,ref:b,className:$(U.root,ut.token,dt.root,v?U["token-inline"]:U["token-normal"],Jt.token,R.className),"aria-label":n,"aria-labelledby":n?void 0:N,"aria-disabled":!!s,role:_??"group",onFocus:()=>{E(!0)},onBlur:()=>{E(!1)},onMouseEnter:()=>{E(!0)},onMouseLeave:()=>{E(!1)},tabIndex:f&&v&&g?0:void 0},i.createElement("div",{className:$(v?U["token-box-inline"]:U["token-box"],s&&U["token-box-disabled"],o&&U["token-box-readonly"],!v&&!d&&U["token-box-without-dismiss"],w&&U["disable-padding"])},i.createElement(Ne,{className:$(v&&U["token-option-inline"]),triggerVariant:v,option:h(),disableTitleTooltip:!!f,labelContainerRef:z,labelRef:y,labelId:N}),d&&i.createElement(Yt,{disabled:s,dismissLabel:u,onDismiss:d,readOnly:o,inline:v})),!!f&&v&&g&&x&&i.createElement(Ke,{"data-testid":"token-tooltip",getTrack:()=>z.current,content:i.createElement(Je,null,i.createElement("span",{"data-testid":"tooltip-live-region-content"},f)),onEscape:()=>{E(!1)}}))}const Ln=i.forwardRef(({ariaLabelledby:e,ariaDescribedby:n,controlId:t,invalid:a,inlineLabelText:r,warning:s,triggerProps:o,selectedOption:l,selectedOptions:c,triggerVariant:u,inFilteringToken:d,isOpen:f,placeholder:_,disabled:w,readOnly:b,renderOption:S},R)=>{const z=me(),y=t??z,x=me("trigger-content-");let E=xt(e,x),g=null,C=!1;if(u==="tokens")c?.length?(g=i.createElement("span",{className:$(M["inline-token-trigger"],w&&M["inline-token-trigger--disabled"],M["visual-refresh"])},i.createElement("span",{className:M["inline-token-list"]},c.map(({label:O},h)=>i.createElement(en,{key:h,label:O,variant:"inline",disabled:w}))),i.createElement("span",{className:M["inline-token-counter"],id:x},i.createElement("span",{className:M["inline-token-hidden-placeholder"]},_),i.createElement("span",null,"(",c.length,")"))),E=e):g=i.createElement("span",{"aria-disabled":"true",className:$(M.placeholder,M.trigger),id:x},_);else if(!l)g=i.createElement("span",{"aria-disabled":"true",className:$(M.placeholder,M.trigger),id:x},_);else if(u==="option"){const O=S?.({filterText:void 0,item:{type:"trigger",option:l}});O?(C=!0,g=i.createElement(Ne,{customContent:O,id:x,option:{...l,disabled:w},triggerVariant:!0})):g=i.createElement(Ne,{id:x,option:{...l,disabled:w},triggerVariant:!0})}else g=i.createElement("span",{id:x,className:M.trigger},l.label||l.value);const v=Oe(o.ref,R),N=i.createElement(Xt,{...o,id:y,ref:v,pressed:!!f,disabled:w,readOnly:b,invalid:a,warning:s&&!a,inFilteringToken:d,inlineTokens:u==="tokens",hasCustomContent:C,ariaDescribedby:n,ariaLabelledby:E},g);return i.createElement(i.Fragment,null,r?i.createElement("div",{className:M["inline-label-wrapper"]},i.createElement("label",{htmlFor:t,className:$(M["inline-label"],w&&M["inline-label-disabled"],u==="tokens"&&M["inline-label-inline-tokens"])},r),i.createElement("div",{className:M["inline-label-trigger-wrapper"]},N)):i.createElement(i.Fragment,null,N))});function _e(){return _e=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},_e.apply(this,arguments)}function tn(e,n){if(e==null)return{};var t={},a=Object.keys(e),r,s;for(s=0;s<a.length;s++)r=a[s],!(n.indexOf(r)>=0)&&(t[r]=e[r]);return t}var nn=["bottom","height","left","right","top","width"],an=function(n,t){return n===void 0&&(n={}),t===void 0&&(t={}),nn.some(function(a){return n[a]!==t[a]})},ue=new Map,ft,rn=function e(){var n=[];ue.forEach(function(t,a){var r=a.getBoundingClientRect();an(r,t.rect)&&(t.rect=r,n.push(t))}),n.forEach(function(t){t.callbacks.forEach(function(a){return a(t.rect)})}),ft=window.requestAnimationFrame(e)};function sn(e,n){return{observe:function(){var a=ue.size===0;ue.has(e)?ue.get(e).callbacks.push(n):ue.set(e,{rect:void 0,hasRectChanged:!1,callbacks:[n]}),a&&rn()},unobserve:function(){var a=ue.get(e);if(a){var r=a.callbacks.indexOf(n);r>=0&&a.callbacks.splice(r,1),a.callbacks.length||ue.delete(e),ue.size||cancelAnimationFrame(ft)}}}}var Fe=typeof window<"u"?i.useLayoutEffect:i.useEffect;function ln(e,n){n===void 0&&(n={width:0,height:0});var t=i.useState(e.current),a=t[0],r=t[1],s=i.useReducer(on,n),o=s[0],l=s[1],c=i.useRef(!1);return Fe(function(){e.current!==a&&r(e.current)}),Fe(function(){if(a&&!c.current){c.current=!0;var u=a.getBoundingClientRect();l({rect:u})}},[a]),i.useEffect(function(){if(a){var u=sn(a,function(d){l({rect:d})});return u.observe(),function(){u.unobserve()}}},[a]),o}function on(e,n){var t=n.rect;return e.height!==t.height||e.width!==t.width?t:e}var cn=function(){return 50},un=function(n){return n},dn=function(n,t){var a=t?"offsetWidth":"offsetHeight";return n[a]},_t=function(n){for(var t=Math.max(n.start-n.overscan,0),a=Math.min(n.end+n.overscan,n.size-1),r=[],s=t;s<=a;s++)r.push(s);return r};function fn(e){var n,t=e.size,a=t===void 0?0:t,r=e.estimateSize,s=r===void 0?cn:r,o=e.overscan,l=o===void 0?1:o,c=e.paddingStart,u=c===void 0?0:c,d=e.paddingEnd,f=d===void 0?0:d,_=e.parentRef,w=e.horizontal,b=e.scrollToFn,S=e.useObserver,R=e.initialRect,z=e.onScrollElement,y=e.scrollOffsetFn,x=e.keyExtractor,E=x===void 0?un:x,g=e.measureSize,C=g===void 0?dn:g,v=e.rangeExtractor,N=v===void 0?_t:v,O=w?"width":"height",h=w?"scrollLeft":"scrollTop",m=i.useRef({scrollOffset:0,measurements:[]}),F=i.useState(0),j=F[0],K=F[1];m.current.scrollOffset=j;var V=S||ln,Q=V(_,R),X=Q[O];m.current.outerSize=X;var D=i.useCallback(function(T){_.current&&(_.current[h]=T)},[_,h]),L=b||D;b=i.useCallback(function(T){L(T,D)},[D,L]);var J=i.useState({}),le=J[0],re=J[1],ee=i.useCallback(function(){return re({})},[]),pe=i.useRef([]),oe=i.useMemo(function(){var T=pe.current.length>0?Math.min.apply(Math,pe.current):0;pe.current=[];for(var A=m.current.measurements.slice(0,T),P=T;P<a;P++){var Y=E(P),H=le[Y],p=A[P-1]?A[P-1].end:u,I=typeof H=="number"?H:s(P),W=p+I;A[P]={index:P,start:p,size:I,end:W,key:Y}}return A},[s,le,u,a,E]),Me=(((n=oe[a-1])==null?void 0:n.end)||u)+f;m.current.measurements=oe,m.current.totalSize=Me;var te=z?z.current:_.current,de=i.useRef(y);de.current=y,Fe(function(){if(!te){K(0);return}var T=function(P){var Y=de.current?de.current(P):te[h];K(Y)};return T(),te.addEventListener("scroll",T,{capture:!1,passive:!0}),function(){te.removeEventListener("scroll",T)}},[te,h]);var ke=gn(m.current),qe=ke.start,he=ke.end,ve=i.useMemo(function(){return N({start:qe,end:he,overscan:l,size:oe.length})},[qe,he,l,oe.length,N]),ze=i.useRef(C);ze.current=C;var De=i.useMemo(function(){for(var T=[],A=function(p,I){var W=ve[p],Z=oe[W],G=_e(_e({},Z),{},{measureRef:function(ae){if(ae){var Re=ze.current(ae,w);if(Re!==G.size){var we=m.current.scrollOffset;G.start<we&&D(we+(Re-G.size)),pe.current.push(W),re(function(Le){var fe;return _e(_e({},Le),{},(fe={},fe[G.key]=Re,fe))})}}}});T.push(G)},P=0,Y=ve.length;P<Y;P++)A(P);return T},[ve,D,w,oe]),Pe=i.useRef(!1);Fe(function(){Pe.current&&re({}),Pe.current=!0},[s]);var Ee=i.useCallback(function(T,A){var P=A===void 0?{}:A,Y=P.align,H=Y===void 0?"start":Y,p=m.current,I=p.scrollOffset,W=p.outerSize;H==="auto"&&(T<=I?H="start":T>=I+W?H="end":H="start"),H==="start"?b(T):H==="end"?b(T-W):H==="center"&&b(T-W/2)},[b]),Se=i.useCallback(function(T,A){var P=A===void 0?{}:A,Y=P.align,H=Y===void 0?"auto":Y,p=tn(P,["align"]),I=m.current,W=I.measurements,Z=I.scrollOffset,G=I.outerSize,ie=W[Math.max(0,Math.min(T,a-1))];if(ie){if(H==="auto")if(ie.end>=Z+G)H="end";else if(ie.start<=Z)H="start";else return;var ae=H==="center"?ie.start+ie.size/2:H==="end"?ie.end:ie.start;Ee(ae,_e({align:H},p))}},[Ee,a]),be=i.useCallback(function(){for(var T=arguments.length,A=new Array(T),P=0;P<T;P++)A[P]=arguments[P];Se.apply(void 0,A),requestAnimationFrame(function(){Se.apply(void 0,A)})},[Se]);return{virtualItems:De,totalSize:Me,scrollToOffset:Ee,scrollToIndex:be,measure:ee}}var _n=function(n,t,a,r){for(;n<=t;){var s=(n+t)/2|0,o=a(s);if(o<r)n=s+1;else if(o>r)t=s-1;else return s}return n>0?n-1:0};function gn(e){for(var n=e.measurements,t=e.outerSize,a=e.scrollOffset,r=n.length-1,s=function(u){return n[u].start},o=_n(0,r,s,a),l=o;l<r&&n[l].end<a+t;)l++;return{start:o,end:l}}function mn(e){const n=_t(e);return n[0]===0?n:[0,...n]}const pn=49;function hn({items:e,parentRef:n,estimateSize:t,firstItemSticky:a}){var r,s;const o=fn({size:e.length,parentRef:n,estimateSize:t,overscan:5,rangeExtractor:a?mn:void 0}),l=k.useRef(new WeakMap),c=o.virtualItems.map(_=>`${_.index}`).join(":");k.useEffect(()=>{l.current=new WeakMap},[c,e,t]);const u=k.useMemo(()=>o.virtualItems.map(_=>({..._,start:_.start,measureRef:w=>{var b;const S=(b=l.current.get(e[_.index]))!==null&&b!==void 0?b:0;S<pn&&(_.measureRef(w),l.current.set(e[_.index],S+1))}})),[e,o.virtualItems]),d=(s=(r=u[0])===null||r===void 0?void 0:r.size)!==null&&s!==void 0?s:0,f=a?o.totalSize-d:o.totalSize;return{virtualItems:u,totalSize:f,scrollToIndex:o.scrollToIndex}}const vn=(e,n)=>e.menuProps.open?i.createElement(bn,{...e,ref:n}):i.createElement(wn,{...e,ref:n}),bn=k.forwardRef(({menuProps:e,getOptionProps:n,filteredOptions:t,filteringValue:a,highlightType:r,checkboxes:s,hasDropdownStatus:o,listBottom:l,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,isMultiSelect:f,renderOption:_},w)=>{const[b,S]=nt(h=>({inner:h.contentBoxWidth,outer:h.borderBoxWidth}),[]),R=k.useRef(null),z=Oe(S,R,e.ref),y=k.useRef(),{virtualItems:x,totalSize:E,scrollToIndex:g}=hn({items:t,parentRef:R,estimateSize:k.useCallback(()=>ct,[b?.inner,a]),firstItemSticky:d});k.useImperativeHandle(w,()=>h=>{if(r.moveFocus){const m=y.current!==void 0&&h<y.current;d&&m&&h!==0&&R.current?ot({index:h,menuEl:R?.current}):requestAnimationFrame(()=>g(h))}y.current=h},[d,r.moveFocus,g]);const C=d?x[0].size:0,v=!!b&&b.inner<b.outer,N=me("select-list-"),O=lt({options:x.map(({index:h})=>t[h]),renderOption:_,getOptionProps:n,filteringValue:a,highlightType:r,idPrefix:N,checkboxes:s,hasDropdownStatus:o,virtualItems:x,useInteractiveGroups:c,screenReaderContent:u,firstOptionSticky:d,withScrollbar:v});return i.createElement(Ge,{...e,stickyItemBlockSize:C,ref:z,isMultiSelect:f},O,i.createElement("div",{"aria-hidden":"true",key:"total-size",className:M["layout-strut"],style:{height:E}}),l?i.createElement("div",{role:"option",className:M["list-bottom"]},l):null)}),wn=k.forwardRef(({menuProps:e,listBottom:n,isMultiSelect:t},a)=>(k.useImperativeHandle(a,()=>()=>{},[]),i.createElement(Ge,{...e,ref:e.ref,isMultiSelect:t},n?i.createElement("div",{role:"option",className:M["list-bottom"]},n):null))),Wn=k.forwardRef(vn),xn=["value","label","description","labelTag"],Ae=(e,n,t)=>{if(!e)return!1;const a=e.toLowerCase().indexOf(n);return t?a===0:a>-1},Xe=(e,n,t)=>{const a=n.toLowerCase(),r=e.option,s=c=>Ae(r[c],a,t),o=c=>{var u;return(u=r[c])===null||u===void 0?void 0:u.some(d=>Ae(d,a,t))},l=["tags"];return t||l.push("filteringTags"),xn.some(s)||l.some(o)},gt=(e,n,t=!1)=>{if(n==="")return e;let a=null,r=!1;return e.reduce((s,o)=>o.type==="parent"?(r=!1,a=o,Xe(o,n,t)&&(r=!0,s.push(a)),s):(o.type!=="child"&&(a=null,r=!1),r?s.push(o):Xe(o,n,t)&&(a&&(s.push(a),a=null),s.push(o)),s),[])},mt=e=>!!e&&!e.disabled&&e.type!=="parent",pt=e=>!!e&&!e.disabled,xe=e=>!!e&&"options"in e&&!!e.options,yn=e=>{const n=new Map;return{flatOptions:e.reduce((a,r)=>{if(xe(r)){const{options:s,...o}=r,l={type:"parent",option:r},c=s.every(u=>u.disabled);(r.disabled||c)&&(l.disabled=!0),a.push(l),s.forEach(u=>{const d={type:"child",option:u};(o.disabled||u.disabled)&&(d.disabled=!0),a.push(d),n.set(d,l)})}else{const s={option:r};r.disabled&&(s.disabled=!0),a.push(s)}return a},[]),parentMap:n}};function An(e,n,t){const{flatOptions:a,parentMap:r}=yn(e),s=n!=="auto"?a:gt(a,t);return Gt(s,r.get.bind(r)),{flatOptions:a,filteredOptions:s,parentMap:r,totalCount:a.length,matchesCount:s.length}}const kn=(e,n)=>(n||[]).map(t=>{for(const a of e)if(a.type!=="parent"&&a.option.value===t.value)return a;return{option:t}}),Hn=(e,n)=>{for(let t=0;t<e.length;t++){const a=e[t];if(a===n||a.value===n.value)return t}return-1};function En(e,n){return!n||!e?[]:e.filter(t=>Ae(t,n,!1))}function Sn({option:e,parentGroup:n,highlightText:t}){return[n&&n.label,e.__labelPrefix,e.label||e.value,e.description,e.labelTag].concat(e.tags).concat(En(e.filteringTags,t)).filter(a=>!!a).join(" ")}function Kn({highlightText:e,announceSelected:n,highlightedOption:t,getParent:a,selectedAriaLabel:r,renderHighlightedAriaLive:s}){const o=k.useRef(void 0);if(k.useEffect(()=>{if(t){const _=requestAnimationFrame(()=>{o.current=a(t)});return()=>cancelAnimationFrame(_)}}),!t)return"";const l=t.option,c=a(t),u=c&&c!==o.current?c:void 0;if(s)return s(l,u);const d=n&&r?r:"",f=Sn({option:l,parentGroup:u,highlightText:e});return[d,f].filter(Boolean).join(" ")}const Gn=({onLoadItems:e,options:n,statusType:t})=>{const a=k.useRef(void 0);return{fireLoadItems:l=>{a.current!==l&&(a.current=l,ge(e,{filteringText:l,firstPage:!0,samePage:!1}))},handleLoadMore:()=>{const l=n.length===0;t==="pending"&&ge(e,{firstPage:l,samePage:!1,filteringText:a.current||""})},handleRecoveryClick:()=>ge(e,{firstPage:!1,samePage:!0,filteringText:a.current||""})}},Rn=e=>e.split("").every(n=>n===e[0]);function In(e,n,t,a){const r=a?pt:mt,s=l=>gt(e,l,!0).filter(c=>r(c)),o=s(n);if(o.length===1)return o[0];if(t&&n.length>1&&Rn(n)){const l=s(n[0]);if(l.length>0){let c=xe(t)?l.map(({option:u})=>u).indexOf(t):l.map(({option:u})=>u.value).indexOf(t.value);return c+=1,c=c%l.length,l[c]}}return o.length>0?o[0]:null}function jn({isEnabled:e,options:n,highlightOption:t,highlightedOption:a,useInteractiveGroups:r}){const s=k.useRef(""),o=yt(()=>s.current="",500);return l=>{if(!e)return;const{key:c}=l;if(!c||c.length!==1)return;o();const u=s.current+c;s.current=u;const d=In(n,u,a,r);d&&t(d)}}class ce{constructor(n,t=n==="keyboard"){this.type=n,this.moveFocus=t}}function Nn({options:e,isHighlightable:n}){const[t,a]=k.useState(-1),[r,s]=k.useState(new ce("keyboard")),o=k.useCallback((f,_)=>{a(f),s(w=>w.type!==_.type?_:w)},[]),l=e[t]&&n(e[t])?e[t]:void 0,c=(f,_=t,w)=>{let S=_===-1&&f===-1?e.length:_;do S+=f;while(e[S]&&!n(e[S]));e[S]&&o(S,w)},u=(f,_)=>c(f,t,_),d=k.useCallback((f,_)=>{const w=e.indexOf(f);o(w,_)},[e,o]);return[{highlightType:r,highlightedIndex:t,highlightedOption:l},{setHighlightedIndexWithMouse:(f,_=!1)=>o(f,new ce("mouse",_)),highlightFirstOptionWithMouse:()=>c(1,-1,new ce("mouse",!0)),moveHighlightWithKeyboard:f=>u(f,new ce("keyboard")),highlightOptionWithKeyboard:f=>d(f,new ce("keyboard")),resetHighlightWithKeyboard:()=>o(-1,new ce("keyboard")),goHomeWithKeyboard:()=>c(1,-1,new ce("keyboard")),goEndWithKeyboard:()=>c(-1,e.length,new ce("keyboard"))}]}const Ye=(e,n)=>{if(!(n<0))return`${e}-option-${n}`},On=36,Cn=35,Mn=({goUp:e,goDown:n,selectOption:t,goHome:a,goEnd:r,closeDropdown:s,preventNativeSpace:o=!1})=>l=>{switch(l.detail.keyCode){case se.up:l.preventDefault(),e();break;case se.down:l.preventDefault(),n();break;case On:a();break;case Cn:r();break;case se.escape:l.stopPropagation(),s();break;case se.enter:l.preventDefault(),t();break;case se.space:o&&(l.preventDefault(),t())}},qn=({openDropdown:e,goHome:n})=>t=>{switch(t.detail.keyCode){case se.up:case se.down:t.preventDefault(),n(),e();break;case se.space:case se.enter:t.preventDefault(),e();break}};function Un({selectedOptions:e,updateSelectedOption:n,options:t,filteringType:a,onBlur:r,onFocus:s,externalRef:o,keepOpen:l,embedded:c,fireLoadItems:u,setFilteringValue:d,useInteractiveGroups:f=!1,statusType:_,isAllSelected:w,isSomeSelected:b,toggleAll:S}){const R=f?pt:mt,z=p=>!!p&&(f||p.type!=="parent"),y=k.useRef(null),x=k.useRef(null),E=k.useRef(null),g=a!=="none"&&!c,C=g?y:E,v=kn(t,e),N=e.reduce((p,I)=>(I.value&&p.add(I.value),p),new Set),[{highlightType:O,highlightedOption:h,highlightedIndex:m},{moveHighlightWithKeyboard:F,resetHighlightWithKeyboard:j,setHighlightedIndexWithMouse:K,highlightOptionWithKeyboard:V,highlightFirstOptionWithMouse:Q,goHomeWithKeyboard:X,goEndWithKeyboard:D}]=Nn({options:t,isHighlightable:z}),{isOpen:L,openDropdown:J,closeDropdown:le,toggleDropdown:re,openedWithKeyboard:ee}=kt({defaultOpen:c,onOpen:()=>u(""),onClose:()=>{j(),d?.("")}}),pe=()=>{ge(s,{})},oe=()=>{ge(r,{}),le()},Me=v.length>0,te=me("option-list"),de=me("dialog"),ke=Ye(te,m),qe=()=>{var p;l||((p=x.current)===null||p===void 0||p.focus(),le())},he=p=>{const I=p||h;!I||!R(I)||(I.type==="select-all"&&S?S():n(I.option),qe())},ve=Mn({goUp:()=>{if(!f&&h?.type==="child"&&m===1||m===0){D();return}F(-1)},goDown:()=>{if(m===t.length-1){X();return}F(1)},selectOption:he,goHome:X,goEnd:D,closeDropdown:()=>{var p;c||((p=x.current)===null||p===void 0||p.focus(),le())},preventNativeSpace:!g||h&&O.type==="keyboard"}),ze=qn({openDropdown:()=>J(!0),goHome:X}),De=()=>({onFocus:pe,onBlur:oe,dropdownContentId:de,dropdownContentRole:g?"dialog":void 0}),Pe=(p=!1,I=!1)=>{const W={ref:x,onFocus:()=>le(),autoFocus:I,ariaHasPopup:g?"dialog":"listbox",ariaControls:L?g?de:te:void 0};return p||(W.onMouseDown=Z=>{var G;Z.preventDefault(),L&&((G=x.current)===null||G===void 0||G.focus()),re()},W.onKeyDown=ze),W},Ee=()=>!g||!d?{}:{ref:y,onKeyDown:ve,onChange:p=>{d(p.detail.value),j()},__onDelayedInput:p=>{u(p.detail.value)},nativeInputAttributes:{"aria-activedescendant":ke,"aria-owns":te,"aria-controls":te}},Se=()=>{const p={id:te,ref:E,open:L,onMouseUp:I=>{I>-1&&he(t[I])},onMouseMove:I=>{I>-1&&K(I)},statusType:_};return g||(p.onKeyDown=ve,p.nativeAttributes={"aria-activedescendant":ke}),c&&(p.onFocus=()=>{h||X()},p.onBlur=()=>{j()}),p},be=p=>{const I=p.options.filter(G=>!!G.value&&N.has(G.value)).length,W=I>0,Z=I===p.options.length;return{selected:W&&Z&&f,indeterminate:W&&!Z}},T=(p,I)=>{var W,Z;const G=p.type==="select-all",ie=p===h,ae=xe(p.option)?be(p.option):void 0,Re=G?w:v.indexOf(p)>-1||!!ae?.selected,we=(W=t[I+1])===null||W===void 0?void 0:W.option,Le=we&&xe(we)?be(we).selected:v.indexOf(t[I+1])>-1,fe=(Z=t[I-1])===null||Z===void 0?void 0:Z.option,ht=fe&&xe(fe)?be(fe).selected:v.indexOf(t[I-1])>-1;return{key:I,option:p,highlighted:ie,selected:Re,isNextSelected:Le,isPreviousSelected:ht,indeterminate:!!ae?.indeterminate||G&&!w&&b,"data-mouse-target":z(p)?I:-1,id:Ye(te,I)}},A=Ze(L);k.useEffect(()=>{if(L&&!A&&t.length>0&&!g)if(ee)v[0]?V(v[0]):X();else if(!v[0]||!t.includes(v[0]))Q();else{const p=t.indexOf(v[0]);K(p,!0)}},[L,v,Me,K,V,Q,X,ee,t,A,g]);const P=k.useCallback(()=>{var p;(p=C.current)===null||p===void 0||p.focus({preventScroll:!0})},[C]);k.useEffect(()=>{L&&!c&&P()},[L,C,c,P]),Et(o,x);const Y=!!h&&xe(h.option)&&be(h.option).selected,H=!!h&&(v.indexOf(h)>-1||Y);return{isOpen:L,highlightedOption:h,highlightedIndex:m,highlightType:O,getTriggerProps:Pe,getDropdownProps:De,getMenuProps:Se,getFilterProps:Ee,getOptionProps:T,highlightOption:V,selectOption:he,announceSelected:H,dialogId:de,focusActiveRef:P}}export{Fn as D,Bn as F,en as I,Dn as P,Ln as T,Wn as V,Un as a,jn as b,Tn as c,Kn as d,Vt as e,Hn as f,xe as i,An as p,ut as s,Gn as u};
