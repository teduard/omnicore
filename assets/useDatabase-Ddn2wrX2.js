import{r as n,aY as l}from"./index-Bj2MUn9q.js";class h{items=new Array;db;execute;constructor(e,t){this.db=e,this.execute=t}fetch(){const e=this.execute("SELECT * FROM todos");e.length>0&&(this.items.length=0,console.log("in fetch:"),console.log(e),e[0].values.map(t=>{console.log("item: ",t);const s={id:t[0],name:t[1]};this.items.push(s)}))}}class b{Categories;constructor(e,t){this.Categories=new h(e,t)}}const d=()=>{const o=n.useContext(l);if(!o)throw new Error("useDatabase must be used within a DatabaseProvider");const{db:e,isReady:t,persist:s}=o,a=n.useCallback((c,i=[])=>{if(!e)return null;const u=e.exec(c,i);return s(),u},[e,s]),r=new b(e,a);return{db:e,isReady:t,execute:a,persist:s,Database:r}};export{d as u};
