import{r as g,_ as ze,w as Ue,x as He,R as f,T as xe,y as L,z as Ke,A as Ge,P as Ye,p as le,n as ce,F as Je,G as he,q,J as Be,K as Qe,N as Se,O as Xe,Q as Fe,U as Ze,V as en,e as ie,W as nn,X as tn,g as ge,Y as on,Z as Le,$ as an,a0 as rn,a1 as sn,a2 as ln,a3 as cn,a4 as dn,m as be,a5 as qe,a6 as un,c as Ie,i as we,a7 as fn,a8 as vn,a9 as mn,aa as _n,ab as pn,ac as hn,ad as gn,ae as bn,af as In,ag as wn,ah as En,ai as Rn,aj as Cn,ak as An}from"./index-Bj2MUn9q.js";import{u as xn,I as Nn,s as Bn}from"./ExpenseLayout-DQHk7F6L.js";function Sn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ee(e,n){var t=function(s){return n&&g.isValidElement(s)?n(s):s},i=Object.create(null);return e&&g.Children.map(e,function(a){return a}).forEach(function(a){i[a.key]=t(a)}),i}function Fn(e,n){e=e||{},n=n||{};function t(l){return l in n?n[l]:e[l]}var i=Object.create(null),a=[];for(var s in e)s in n?a.length&&(i[s]=a,a=[]):a.push(s);var o,d={};for(var r in n){if(i[r])for(o=0;o<i[r].length;o++){var v=i[r][o];d[i[r][o]]=t(v)}d[r]=t(r)}for(o=0;o<a.length;o++)d[a[o]]=t(a[o]);return d}function oe(e,n,t){return t[n]!=null?t[n]:e.props[n]}function Ln(e,n){return Ee(e.children,function(t){return g.cloneElement(t,{onExited:n.bind(null,t),in:!0,appear:oe(t,"appear",e),enter:oe(t,"enter",e),exit:oe(t,"exit",e)})})}function qn(e,n,t){var i=Ee(e.children),a=Fn(n,i);return Object.keys(a).forEach(function(s){var o=a[s];if(g.isValidElement(o)){var d=s in n,r=s in i,v=n[s],l=g.isValidElement(v)&&!v.props.in;r&&(!d||l)?a[s]=g.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:oe(o,"exit",e),enter:oe(o,"enter",e)}):!r&&d&&!l?a[s]=g.cloneElement(o,{in:!1}):r&&d&&g.isValidElement(v)&&(a[s]=g.cloneElement(o,{onExited:t.bind(null,o),in:v.props.in,exit:oe(o,"exit",e),enter:oe(o,"enter",e)}))}}),a}var Tn=Object.values||function(e){return Object.keys(e).map(function(n){return e[n]})},yn={component:"div",childFactory:function(n){return n}},fe=(function(e){ze(n,e);function n(i,a){var s;s=e.call(this,i,a)||this;var o=s.handleExited.bind(Sn(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=n.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(a,s){var o=s.children,d=s.handleExited,r=s.firstRender;return{children:r?Ln(a,d):qn(a,o,d),firstRender:!1}},t.handleExited=function(a,s){var o=Ee(this.props.children);a.key in o||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(d){var r=Ue({},d.children);return delete r[a.key],{children:r}}))},t.render=function(){var a=this.props,s=a.component,o=a.childFactory,d=He(a,["component","childFactory"]),r=this.state.contextValue,v=Tn(this.state.children).map(o);return delete d.appear,delete d.enter,delete d.exit,s===null?f.createElement(xe.Provider,{value:r},v):f.createElement(xe.Provider,{value:r},f.createElement(s,d,v))},n})(f.Component);fe.propTypes={};fe.defaultProps=yn;function Pn(e){const n={};for(const t in e){const i=e[t];i&&(n[t]=i.getBoundingClientRect())}return n}function kn({oldState:e,elements:n,onTransitionsEnd:t,newElementInitialState:i}){for(const a in n){const s=n[a],o=e[a];if(s){const d=s.getBoundingClientRect(),r={scale:1,x:0,y:0},v=o?{scale:o.width/d.width,x:(o.left+o.right)/2-(d.left+d.right)/2,y:(o.top+o.bottom)/2-(d.top+d.bottom)/2}:i?i(d):{},l={...r,...v};s.style.transitionProperty="none",s.style.transform=`scale(${l.scale}) translate(${l.x}px, ${l.y}px)`,o||(s.style.opacity="0")}}requestAnimationFrame(()=>{const a=new Set;for(const s in n){const o=n[s];if(o){e[s]?(o.style.transitionProperty="transform",o.style.transform=""):(o.style.transitionProperty="transform, opacity",o.style.transform="",o.style.opacity="");const r=l=>{l.target===o&&(a.add(s),o.removeEventListener("transitionstart",r))},v=l=>{l.target===o&&(o.style.transitionProperty="",o.removeEventListener("transitionend",v),t&&(a.delete(s),a.size===0&&t()))};o.addEventListener("transitionstart",r),o.addEventListener("transitionend",v)}}})}const pe={"flash-header":"awsui_flash-header_4c95g_vov7p_5"},Te=(e,n,t)=>{const i={component:{name:"awsui.Flashbar",label:n?{root:"self",selector:"ul"}:{root:"self"},properties:{itemsCount:`${e}`,stackItems:`${n}`}}};return t!==void 0&&(i.component.properties.expanded=`${t}`),i},ye=(e,n,t)=>{const i={itemLabel:`.${pe["flash-header"]}`,itemPosition:`${e}`,itemType:n};return t&&(i.itemId=t),{component:{innerContext:i}}},Pe=500,ke={error:"red",info:"blue","in-progress":"blue",success:"green",warning:"yellow"};function Mn(e){const n="blue";return e&&ke[e]||n}function Me(e){return e.loading?"in-progress":e.type||"info"}function De(e){return Mn(Me(e))}function Dn(e,n){const t=[],i=[],a=new Set,s=Object.keys(ke).length,o=Math.min(e.length,n);for(let l=0;l<e.length;l++){const m=e[l],_=De(m),w=a.has(_);if(l<o)t.push({item:{...m,expandedIndex:l},isColorRepeated:w});else{if(a.size===s)break;w||i.push({...m,expandedIndex:l})}a.add(_)}const d=[];let r=0;for(let l=t.length-1;l>=0;l--){const m=t[l];m.isColorRepeated&&r<i.length?r+=1:d.push(m.item)}const v=d.reverse();for(let l=0;v.length<n;l++)v.push(i[l]);return v}function $n(e){const n={error:0,info:0,"in-progress":0,success:0,warning:0};for(const t of e){const i=Me(t);n[i]+=1}return n}function Re(e){return e==="in-progress"?"inProgress":e}const Wn=[{type:"error",labelName:"errorIconAriaLabel",iconName:"status-negative"},{type:"warning",labelName:"warningIconAriaLabel",iconName:"status-warning"},{type:"success",labelName:"successIconAriaLabel",iconName:"status-positive"},{type:"info",labelName:"infoIconAriaLabel",iconName:"status-info"},{type:"in-progress",labelName:"inProgressIconAriaLabel",iconName:"status-in-progress"}];function $e(e,n="info"){var t,i,a,s,o,d,r,v,l,m,_,w,E,h,N,A,x,C;if(!e)return;const p=Re(n),R=((i=(t=e?.item)===null||t===void 0?void 0:t.root)===null||i===void 0?void 0:i.background)&&((s=(a=e?.item)===null||a===void 0?void 0:a.root)===null||s===void 0?void 0:s.background[p]),b=((d=(o=e?.item)===null||o===void 0?void 0:o.root)===null||d===void 0?void 0:d.borderColor)&&((v=(r=e?.item)===null||r===void 0?void 0:r.root)===null||v===void 0?void 0:v.borderColor[p]),S=(m=(l=e?.item)===null||l===void 0?void 0:l.root)===null||m===void 0?void 0:m.borderRadius,F=(w=(_=e?.item)===null||_===void 0?void 0:_.root)===null||w===void 0?void 0:w.borderWidth,P=((h=(E=e?.item)===null||E===void 0?void 0:E.root)===null||h===void 0?void 0:h.borderWidth)&&"solid",k=((A=(N=e?.item)===null||N===void 0?void 0:N.root)===null||A===void 0?void 0:A.color)&&((C=(x=e?.item)===null||x===void 0?void 0:x.root)===null||C===void 0?void 0:C.color[p]);return{background:R,borderColor:b,borderRadius:S,borderStyle:P,borderWidth:F,color:k}}function On(e,n="info"){var t,i,a,s,o,d,r,v,l,m;if(!e)return;const _=((a=(i=(t=e?.item)===null||t===void 0?void 0:t.root)===null||i===void 0?void 0:i.focusRing)===null||a===void 0?void 0:a.borderColor)&&e.item.root.focusRing.borderColor[Re(n)];return{...$e(e,n),...((o=(s=e?.item)===null||s===void 0?void 0:s.root)===null||o===void 0?void 0:o.focusRing)&&{[L.styleFocusRingBorderColor]:_,[L.styleFocusRingBorderRadius]:(d=e.item.root.focusRing)===null||d===void 0?void 0:d.borderRadius,[L.styleFocusRingBorderWidth]:(r=e.item.root.focusRing)===null||r===void 0?void 0:r.borderWidth},...((m=(l=(v=e?.item)===null||v===void 0?void 0:v.root)===null||l===void 0?void 0:l.focusRing)===null||m===void 0?void 0:m.borderRadius)&&{[L.styleFocusRingBorderRadius]:e.item.root.focusRing.borderRadius}}}function Vn(e,n="info"){var t,i,a,s,o,d,r,v,l,m,_,w,E,h,N,A,x,C;if(!e)return;const p=Re(n),R=((a=(i=(t=e?.item)===null||t===void 0?void 0:t.dismissButton)===null||i===void 0?void 0:i.color)===null||a===void 0?void 0:a.active)&&e.item.dismissButton.color.active[p],b=((d=(o=(s=e?.item)===null||s===void 0?void 0:s.dismissButton)===null||o===void 0?void 0:o.color)===null||d===void 0?void 0:d.default)&&e.item.dismissButton.color.default[p],S=((l=(v=(r=e?.item)===null||r===void 0?void 0:r.dismissButton)===null||v===void 0?void 0:v.color)===null||l===void 0?void 0:l.hover)&&e.item.dismissButton.color.hover[p],F=((w=(_=(m=e?.item)===null||m===void 0?void 0:m.dismissButton)===null||_===void 0?void 0:_.focusRing)===null||w===void 0?void 0:w.borderColor)&&e.item.dismissButton.focusRing.borderColor[p];return{root:{color:{active:R,default:b,hover:S},focusRing:{borderColor:F,borderRadius:(N=(h=(E=e?.item)===null||E===void 0?void 0:E.dismissButton)===null||h===void 0?void 0:h.focusRing)===null||N===void 0?void 0:N.borderRadius,borderWidth:(C=(x=(A=e?.item)===null||A===void 0?void 0:A.dismissButton)===null||x===void 0?void 0:x.focusRing)===null||C===void 0?void 0:C.borderWidth}}}}function jn(e){var n,t,i,a,s,o,d,r,v,l,m,_,w,E,h,N,A,x,C,p,R,b,S,F,P,k,W,O,V,D,y,I,T,X,j,K,G,z,Z,ee,ne,Y,U,$,te;if(e)return{borderRadius:(t=(n=e?.notificationBar)===null||n===void 0?void 0:n.root)===null||t===void 0?void 0:t.borderRadius,borderWidth:(a=(i=e?.notificationBar)===null||i===void 0?void 0:i.root)===null||a===void 0?void 0:a.borderWidth,...((d=(o=(s=e?.notificationBar)===null||s===void 0?void 0:s.root)===null||o===void 0?void 0:o.background)===null||d===void 0?void 0:d.active)&&{[L.styleBackgroundActive]:e.notificationBar.root.background.active},...((l=(v=(r=e?.notificationBar)===null||r===void 0?void 0:r.root)===null||v===void 0?void 0:v.background)===null||l===void 0?void 0:l.default)&&{[L.styleBackgroundDefault]:e.notificationBar.root.background.default},...((w=(_=(m=e?.notificationBar)===null||m===void 0?void 0:m.root)===null||_===void 0?void 0:_.background)===null||w===void 0?void 0:w.hover)&&{[L.styleBackgroundHover]:e.notificationBar.root.background.hover},...((N=(h=(E=e?.notificationBar)===null||E===void 0?void 0:E.root)===null||h===void 0?void 0:h.borderColor)===null||N===void 0?void 0:N.active)&&{[L.styleBorderColorActive]:e.notificationBar.root.borderColor.active},...((C=(x=(A=e?.notificationBar)===null||A===void 0?void 0:A.root)===null||x===void 0?void 0:x.borderColor)===null||C===void 0?void 0:C.default)&&{[L.styleBorderColorDefault]:e.notificationBar.root.borderColor.default},...((b=(R=(p=e?.notificationBar)===null||p===void 0?void 0:p.root)===null||R===void 0?void 0:R.borderColor)===null||b===void 0?void 0:b.hover)&&{[L.styleBorderColorHover]:e.notificationBar.root.borderColor.hover},...((P=(F=(S=e?.notificationBar)===null||S===void 0?void 0:S.root)===null||F===void 0?void 0:F.color)===null||P===void 0?void 0:P.active)&&{[L.styleColorActive]:e.notificationBar.root.color.active},...((O=(W=(k=e?.notificationBar)===null||k===void 0?void 0:k.root)===null||W===void 0?void 0:W.color)===null||O===void 0?void 0:O.default)&&{[L.styleColorDefault]:e.notificationBar.root.color.default},...((y=(D=(V=e?.notificationBar)===null||V===void 0?void 0:V.root)===null||D===void 0?void 0:D.color)===null||y===void 0?void 0:y.hover)&&{[L.styleColorHover]:e.notificationBar.root.color.hover},...((T=(I=e?.notificationBar)===null||I===void 0?void 0:I.expandButton)===null||T===void 0?void 0:T.focusRing)&&{[L.styleFocusRingBorderColor]:(K=(j=(X=e?.notificationBar)===null||X===void 0?void 0:X.expandButton)===null||j===void 0?void 0:j.focusRing)===null||K===void 0?void 0:K.borderColor,[L.styleFocusRingBorderRadius]:(Z=(z=(G=e?.notificationBar)===null||G===void 0?void 0:G.expandButton)===null||z===void 0?void 0:z.focusRing)===null||Z===void 0?void 0:Z.borderRadius,[L.styleFocusRingBorderWidth]:(Y=(ne=(ee=e?.notificationBar)===null||ee===void 0?void 0:ee.expandButton)===null||ne===void 0?void 0:ne.focusRing)===null||Y===void 0?void 0:Y.borderWidth},...((te=($=(U=e?.notificationBar)===null||U===void 0?void 0:U.expandButton)===null||$===void 0?void 0:$.focusRing)===null||te===void 0?void 0:te.borderRadius)&&{[L.styleFocusRingBorderRadius]:e.notificationBar.expandButton.focusRing.borderRadius}}}const c={"flash-with-motion":"awsui_flash-with-motion_1q84n_t2sge_157",enter:"awsui_enter_1q84n_t2sge_157","flash-body":"awsui_flash-body_1q84n_t2sge_171","flash-message":"awsui_flash-message_1q84n_t2sge_171","flash-header":"awsui_flash-header_1q84n_t2sge_171","flash-content":"awsui_flash-content_1q84n_t2sge_172","action-button-wrapper":"awsui_action-button-wrapper_1q84n_t2sge_173","dismiss-button-wrapper":"awsui_dismiss-button-wrapper_1q84n_t2sge_174","flash-icon":"awsui_flash-icon_1q84n_t2sge_197",entering:"awsui_entering_1q84n_t2sge_210",entered:"awsui_entered_1q84n_t2sge_231",exiting:"awsui_exiting_1q84n_t2sge_336",stack:"awsui_stack_1q84n_t2sge_370","animation-running":"awsui_animation-running_1q84n_t2sge_370",item:"awsui_item_1q84n_t2sge_370","flash-list-item":"awsui_flash-list-item_1q84n_t2sge_371","notification-bar":"awsui_notification-bar_1q84n_t2sge_372",collapsed:"awsui_collapsed_1q84n_t2sge_392","animation-ready":"awsui_animation-ready_1q84n_t2sge_392","expanded-only":"awsui_expanded-only_1q84n_t2sge_392",expanded:"awsui_expanded_1q84n_t2sge_392",flash:"awsui_flash_1q84n_t2sge_157",collapsible:"awsui_collapsible_1q84n_t2sge_448","short-list":"awsui_short-list_1q84n_t2sge_454","visual-refresh":"awsui_visual-refresh_1q84n_t2sge_454",status:"awsui_status_1q84n_t2sge_601",header:"awsui_header_1q84n_t2sge_601","item-count":"awsui_item-count_1q84n_t2sge_602",button:"awsui_button_1q84n_t2sge_603","type-count":"awsui_type-count_1q84n_t2sge_636","count-number":"awsui_count-number_1q84n_t2sge_636",icon:"awsui_icon_1q84n_t2sge_674",floating:"awsui_floating_1q84n_t2sge_715",flashbar:"awsui_flashbar_1q84n_t2sge_719","initial-hidden":"awsui_initial-hidden_1q84n_t2sge_778","flash-list":"awsui_flash-list_1q84n_t2sge_371","flash-focus-container":"awsui_flash-focus-container_1q84n_t2sge_802","flash-text":"awsui_flash-text_1q84n_t2sge_832",hidden:"awsui_hidden_1q84n_t2sge_851","header-replacement":"awsui_header-replacement_1q84n_t2sge_856","content-replacement":"awsui_content-replacement_1q84n_t2sge_861","dismiss-button":"awsui_dismiss-button_1q84n_t2sge_174","action-wrapped":"awsui_action-wrapped_1q84n_t2sge_879","action-button":"awsui_action-button_1q84n_t2sge_173","action-slot":"awsui_action-slot_1q84n_t2sge_886","flash-type-success":"awsui_flash-type-success_1q84n_t2sge_890","flash-type-error":"awsui_flash-type-error_1q84n_t2sge_894","flash-type-info":"awsui_flash-type-info_1q84n_t2sge_898","flash-type-in-progress":"awsui_flash-type-in-progress_1q84n_t2sge_899","flash-type-warning":"awsui_flash-type-warning_1q84n_t2sge_903"},zn={success:"status-positive",warning:"status-warning",info:"status-info",error:"status-negative","in-progress":"status-in-progress"},Un=Xe(Fe.flashbar.onActionRegistered),Hn=Ze("flash",Fe.flashContent);function Kn(e,n,t,i,a,s,o,d){return f.createElement("div",{className:c["dismiss-button-wrapper"],...ie({action:"dismiss"})},f.createElement(nn,{ref:a,onClick:r=>{n&&n(r),o&&o(s,d)},className:c["dismiss-button"],variant:"flashbar-icon",iconName:"close",formAction:"none",ariaLabel:e,style:Vn(t,i)}))}const Gn=e=>{if(!e)return;const n=e.querySelector(`.${c["dismiss-button"]}`),t=e.querySelector(`.${c["flash-focus-container"]}`);n?n.focus():t&&t.focus()};function We(e,n){if(!e)return;const t=e.querySelector(`[data-itemid="${CSS.escape(n)}"]`);if(!t)return;const i=t.querySelector(`.${c["flash-focus-container"]}`);i?.focus()}const Oe=f.forwardRef(({id:e,header:n,content:t,dismissible:i,dismissLabel:a,loading:s,action:o,buttonText:d,onButtonClick:r,onDismiss:v,className:l,transitionState:m,ariaRole:_,i18nStrings:w,type:E="info",analyticsMetadata:h,style:N,rootRef:A,onDismissed:x,persistenceConfig:C,...p},R)=>{const[b,S]=Ke(),F=Ge("Flash",Ye,h),P=le(R,A,F,S),k=ce("flash-icon"),W=ce("flash-message"),O=g.useRef(null),V=g.useRef(null),D=g.useRef(null),{discoveredActions:y,headerRef:I,contentRef:T}=Un(E),{initialHidden:X,headerReplacementType:j,contentReplacementType:K,headerRef:G,contentRef:z,replacementHeaderRef:Z,replacementContentRef:ee}=Hn({type:E,header:n,children:t}),ne=le(I,G,O),Y=le(T,z,V),U=p.statusIconAriaLabel||w?.[`${s||E==="in-progress"?"inProgress":E}IconAriaLabel`],$=zn[E],te=s?f.createElement("span",{role:"img","aria-label":U},f.createElement(Je,null)):f.createElement(he,{name:$,ariaLabel:U}),J=s?"info":E,de={[en]:J};return h?.suppressFlowMetricEvents&&(de[tn]="true"),f.createElement("div",{ref:P,role:_,"aria-live":_?"off":void 0,"data-itemid":e,className:q(c.flash,c[`flash-type-${J}`],l,m&&{[c.enter]:m==="enter",[c.entering]:m==="entering",[c.entered]:m==="entered",[c.exit]:m==="exit",[c.exiting]:m==="exiting",[c.exited]:m==="exited"},Be(E==="warning"&&!s?"flashbar-warning":"flashbar"),X&&c["initial-hidden"]),style:On(N,J),...de},f.createElement("div",{className:c["flash-body"]},f.createElement("div",{className:c["flash-focus-container"],tabIndex:-1,role:"group","aria-labelledby":`${k} ${W}`},f.createElement("div",{className:q(c["flash-icon"],c["flash-text"]),id:k},te),f.createElement("div",{className:q(c["flash-message"],c["flash-text"]),id:W},f.createElement("div",{className:q(c["flash-header"],j!=="original"?c.hidden:pe["flash-header"]),ref:ne},n),f.createElement("div",{className:q(c["header-replacement"],j!=="replaced"&&c.hidden),ref:Z}),f.createElement("div",{className:q(c["flash-content"],K!=="original"?c.hidden:pe["flash-header"]),ref:Y},t),f.createElement("div",{className:q(c["content-replacement"],K!=="replaced"&&c.hidden),ref:ee}))),f.createElement(Qe,{className:c["action-button-wrapper"],testUtilClasses:{actionSlot:c["action-slot"],actionButton:c["action-button"]},action:o,discoveredActions:y,buttonText:d,onButtonClick:r,containerWidth:b,wrappedClass:c["action-wrapped"]})),i&&Kn(a,v,N,J,D,e,x,C),_==="status"&&f.createElement(Se,{sources:[U,O,V]}))}),Yn=(e,n,t,i)=>{var a;if(!n||!e||!t)return;const s=n.findIndex(v=>{var l;return((l=v.id)!==null&&l!==void 0?l:"")===e});if(s===-1)return;let o=s+1;if(o>=n.length&&(o=s-1),o<0||o>=n.length){const v=document.querySelector("h1");v?.focus();return}const d=(a=n[o].id)!==null&&a!==void 0?a:o;setTimeout(()=>{const v=i[d];if(!v){const l=t?.querySelector(`.${c.button}`);if(l){l.focus();return}const m=document.querySelector("h1");m?.focus();return}Gn(v)},0)};function Ve({items:e,onItemsAdded:n,onItemsChanged:t,onItemsRemoved:i,__internalRootRef:a,...s}){const o=g.useMemo(()=>e.every(C=>"id"in C),[e]),d=ge(s),r=g.useRef(null),v=g.useRef({}),l=le(r,a),m=on(r),_=sn(),[w,E]=g.useState(e),[h,N]=g.useState(null);if(e){const C=e.filter(({id:R})=>R&&!w.some(b=>b.id===R)),p=w.filter(({id:R})=>R&&!e.some(b=>b.id===R));if(C.length>0||p.length>0){E(e),n?.(C),i?.(p),t?.({allItemsHaveId:o,isReducedMotion:m});const R=C.filter(({ariaRole:b})=>b==="alert");R.length>0&&N(R[0].id)}}const A=Le(We,Pe);return g.useEffect(()=>{h&&A(r.current,h)},[A,h,r]),{allItemsHaveId:o,baseProps:d,isReducedMotion:m,isVisualRefresh:_,mergedRef:l,ref:r,flashRefs:v,handleFlashDismissed:(C,p)=>{Yn(C,e,r.current,v.current),p?.uniqueKey&&rn()}}}function je(e){const[n,t]=g.useState(()=>new Set),[i,a]=g.useState(()=>new Map),s=e.filter(o=>{var d;return!(!((d=o.persistenceConfig)===null||d===void 0)&&d.uniqueKey)||i.get(o.persistenceConfig.uniqueKey)===!0});return g.useEffect(()=>{const o=e.filter(v=>{var l;return((l=v.persistenceConfig)===null||l===void 0?void 0:l.uniqueKey)&&!n.has(v.persistenceConfig.uniqueKey)});if(o.length===0)return;let d=!0;return(async()=>{try{const v=await Promise.all(o.map(async l=>{try{const m=await an(l.persistenceConfig);return{key:l.persistenceConfig.uniqueKey,visible:!m}}catch{return{key:l.persistenceConfig.uniqueKey,visible:!0}}}));if(!d)return;a(l=>{const m=new Map(l);return v.forEach(({key:_,visible:w})=>m.set(_,w)),m}),t(l=>{const m=new Set(l);return v.forEach(({key:_})=>m.add(_)),m})}catch{if(!d)return;a(v=>{const l=new Map(v);return o.forEach(m=>l.set(m.persistenceConfig.uniqueKey,!0)),l})}})(),()=>{d=!1}},[e]),s}const Ne=1,Jn=100;function Qn({items:e,style:n,...t}){const i=je(e),[a,s]=g.useState([]),[o,d]=g.useState([]),[r,v]=g.useState(!1),l=g.useCallback(()=>({...r?w.current:_.current,notificationBar:A.current}),[r]),m=g.useCallback(()=>{const u=Pn(l());h(u)},[l]),_=g.useRef({}),w=g.useRef({}),[E,h]=g.useState(null),N=g.useRef(null),A=g.useRef(null),[x,C]=g.useState(!1),p=ce("flashbar"),R=ce("item-count"),{baseProps:b,isReducedMotion:S,mergedRef:F,ref:P,flashRefs:k,handleFlashDismissed:W}=Ve({items:i,...t,onItemsAdded:u=>{s([...a,...u])},onItemsChanged:u=>{u?.allItemsHaveId&&!u?.isReducedMotion&&m()},onItemsRemoved:u=>{d([...o,...u])}});i.length<=Ne&&r&&v(!1);const O=!S;function V(){S||m(),v(u=>!u)}const D=Le(We,Pe);g.useLayoutEffect(()=>{if(r&&i?.length){const u=i[0];u.id!==void 0&&D(P.current,u.id)}},[D,r]),ln(()=>{!r&&A.current&&cn(A.current)},[r]);const y=xn(()=>{const u=N?.current,B=u?.parentElement;if(u&&B){B.classList.remove(c.floating);const M=window.innerHeight,H=dn(B,se=>se.getAttribute("role")==="region")||B;r&&Math.ceil(H.getBoundingClientRect().bottom)>=M||B.classList.add(c.floating)}},Jn,[r]);g.useLayoutEffect(()=>(window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y),y.cancel()}),[y]);const{i18nStrings:I}=t,T=be("flashbar"),X=T("i18nStrings.ariaLabel",I?.ariaLabel),j=T("i18nStrings.notificationBarText",I?.notificationBarText),K=T("i18nStrings.notificationBarAriaLabel",I?.notificationBarAriaLabel),G={errorIconAriaLabel:T("i18nStrings.errorIconAriaLabel",I?.errorIconAriaLabel),inProgressIconAriaLabel:T("i18nStrings.inProgressIconAriaLabel",I?.inProgressIconAriaLabel),infoIconAriaLabel:T("i18nStrings.infoIconAriaLabel",I?.infoIconAriaLabel),successIconAriaLabel:T("i18nStrings.successIconAriaLabel",I?.successIconAriaLabel),warningIconAriaLabel:T("i18nStrings.warningIconAriaLabel",I?.warningIconAriaLabel)};g.useLayoutEffect(()=>{E&&(y(),kn({elements:l(),oldState:E,newElementInitialState:({top:u})=>({scale:.9,y:-.2*u}),onTransitionsEnd:()=>C(!1)}),C(!0),h(null))},[y,l,E,r]);const z=i.length>Ne,Z=$n(i),ee=new Set(i.map(De)).size,ne=Math.max(ee,3),Y=Math.min(ne,i.length),U=r?i.map((u,B)=>({...u,expandedIndex:B})):Dn(i,Y).map((u,B)=>({...u,collapsedIndex:B})),$=u=>{var B,M;return(M=(B=u.id)!==null&&B!==void 0?B:u.expandedIndex)!==null&&M!==void 0?M:0},te=u=>a.some(B=>B.id&&B.id===u.id),J=u=>!("expandedIndex"in u),de=u=>te(u)||J(u),ve=u=>r||J(u)||"expandedIndex"in u&&u.expandedIndex===0,Ce=(u,B)=>B===0&&de(u),me=u=>`flash-${$(u)}`,Ae=()=>f.createElement("ul",{ref:N,className:q(c["flash-list"],r?c.expanded:c.collapsed,x&&c["animation-running"],E&&c["animation-ready"],c["visual-refresh"]),id:p,"aria-label":X,"aria-describedby":z?R:void 0,style:!r||x?{[L.flashbarStackDepth]:Y}:void 0},f.createElement(Zn,{withMotion:!S},U.map((u,B)=>f.createElement(qe,{key:$(u),in:!J(u),onStatusChange:M=>{M==="entered"?s([]):M==="exited"&&d([])}},(M,H)=>{var ue,se,_e;return f.createElement("li",{"aria-hidden":!ve(u),className:ve(u)?q(c["flash-list-item"],!r&&c.item,!_.current[me(u)]&&c["expanded-only"]):q(c.flash,c[`flash-type-${(ue=u.type)!==null&&ue!==void 0?ue:"info"}`],c.item),ref:ae=>{r?w.current[me(u)]=ae:_.current[me(u)]=ae},style:{...B>0&&!r&&$e(n,u.type),...(!r||x)&&{[L.flashbarStackIndex]:(_e=(se=u.collapsedIndex)!==null&&se!==void 0?se:u.expandedIndex)!==null&&_e!==void 0?_e:B}},key:$(u),...ie(ye(B+1,u.type||"info",u.id))},ve(u)&&f.createElement(Oe,{className:q(O&&c["flash-with-motion"],c["flash-refresh"]),key:$(u),ref:ae=>{k.current[$(u)]=ae,Ce(u,B)&&H&&(typeof H=="function"?H(ae):H&&typeof H=="object"&&"current"in H&&(H.current=ae))},transitionState:Ce(u,B)?M:void 0,i18nStrings:G,style:n,onDismissed:W,...u}))}))));return f.createElement("div",{...b,className:q(b.className,c.flashbar,c.stack,z&&c.collapsible,i.length===2&&c["short-list"],r&&c.expanded,c["visual-refresh"]),ref:F,...ie(Te(i.length,!0,r))},r&&Ae(),z&&f.createElement("div",{className:q(c["notification-bar"],c["visual-refresh"],r?c.expanded:c.collapsed,x&&c["animation-running"],i.length===2&&c["short-list"],Be("flashbar")),onClick:V,ref:A,style:jn(n),...ie({action:r?"collapse":"expand",detail:{label:"h2"}})},f.createElement("span",{"aria-live":"polite",className:c.status,role:"status",id:R},j&&f.createElement("h2",{className:c.header},j),f.createElement("span",{className:c["item-count"]},Wn.map(({type:u,labelName:B,iconName:M})=>f.createElement(Xn,{key:u,iconName:M,label:G[B],count:Z[u]})))),f.createElement("button",{"aria-controls":p,"aria-describedby":R,"aria-expanded":r,"aria-label":K,className:q(c.button,r&&c.expanded)},f.createElement(he,{className:c.icon,size:"normal",name:"angle-down"}))),!r&&Ae())}const Xn=({iconName:e,label:n,count:t})=>f.createElement("span",{className:c["type-count"]},f.createElement("span",{title:n},f.createElement(he,{name:e,ariaLabel:n})),f.createElement("span",{className:c["count-number"]},t)),Zn=({children:e,withMotion:n})=>n?f.createElement(fe,{component:null},e):f.createElement(f.Fragment,null,e),et=115;function nt({items:e,i18nStrings:n,style:t,...i}){const a=je(e),{allItemsHaveId:s,baseProps:o,isReducedMotion:d,isVisualRefresh:r,mergedRef:v,flashRefs:l,handleFlashDismissed:m}=Ve({items:a,...i}),_=be("flashbar"),w=_("i18nStrings.ariaLabel",n?.ariaLabel),E={errorIconAriaLabel:_("i18nStrings.errorIconAriaLabel",n?.errorIconAriaLabel),inProgressIconAriaLabel:_("i18nStrings.inProgressIconAriaLabel",n?.inProgressIconAriaLabel),infoIconAriaLabel:_("i18nStrings.infoIconAriaLabel",n?.infoIconAriaLabel),successIconAriaLabel:_("i18nStrings.successIconAriaLabel",n?.successIconAriaLabel),warningIconAriaLabel:_("i18nStrings.warningIconAriaLabel",n?.warningIconAriaLabel)},h=d||!r||!s,N=!d&&r;function A(){if(!(h||!a))return f.createElement(fe,{component:"ul",className:c["flash-list"],"aria-label":w},a.map((p,R)=>{var b;return f.createElement(qe,{transitionChangeDelay:{entering:et},key:(b=p.id)!==null&&b!==void 0?b:R,in:!0},(S,F)=>{var P;return f.createElement("li",{className:c["flash-list-item"]},C(p,(P=p.id)!==null&&P!==void 0?P:R,F,S))})}))}function x(){if(!(!h||!a))return f.createElement("ul",{className:c["flash-list"],"aria-label":w,...ie(Te(a.length,!1))},a.map((p,R)=>{var b,S;return f.createElement("li",{key:(b=p.id)!==null&&b!==void 0?b:R,className:c["flash-list-item"],...ie(ye(R+1,p.type||"info",p.id))},C(p,(S=p.id)!==null&&S!==void 0?S:R))}))}function C(p,R,b,S){return f.createElement(Oe,{className:q(N&&c["flash-with-motion"],c["flash-refresh"]),key:R,ref:F=>{l.current[R]=F,b&&typeof b=="function"?b(F):b&&typeof b=="object"&&"current"in b&&(b.current=F)},transitionState:S,i18nStrings:E,style:t,onDismissed:m,...p})}return f.createElement("div",{...o,className:q(o.className,c.flashbar),ref:v},A(),x())}function tt(e){return e.stackItems?f.createElement(Qn,{...e}):f.createElement(nt,{...e})}const ot=un(tt),it=ot();function at(e){const{__internalRootRef:n}=Ie("Flashbar",{props:{stackItems:e.stackItems}});return f.createElement(it,{__internalRootRef:n,...e})}we(at,"Flashbar");const re={root:"awsui_root_6xiez_bfzb6_5",header:"awsui_header_6xiez_bfzb6_6"},Q={root:"awsui_root_1i0s3_sdppn_145",header:"awsui_header_1i0s3_sdppn_177",content:"awsui_content_1i0s3_sdppn_181",error:"awsui_error_1i0s3_sdppn_185",footer:"awsui_footer_1i0s3_sdppn_189","actions-section":"awsui_actions-section_1i0s3_sdppn_193","secondary-actions":"awsui_secondary-actions_1i0s3_sdppn_202",actions:"awsui_actions_1i0s3_sdppn_193"};function rt({children:e,header:n,errorText:t,errorIconAriaLabel:i,actions:a,secondaryActions:s,__internalRootRef:o,__injectAnalyticsComponentMetadata:d,__errorSlotId:r,...v}){const l=ge(v),_=be("form")("errorIconAriaLabel",i),w={component:{name:"awsui.Form",label:{selector:["h1","h2","h3"].map(E=>`.${re.header} ${E}`)}}};return f.createElement(fn,{suppressNested:!0},f.createElement("div",{...l,ref:o,className:q(Q.root,re.root,l.className),...d?ie(w):{}},n&&f.createElement("div",{className:q(Q.header,re.header)},n),e&&f.createElement("div",{className:Q.content},e),t&&f.createElement(vn,{margin:{top:"l"}},f.createElement(mn,{type:"error",statusIconAriaLabel:_},f.createElement("div",{className:Q.error,id:r},t))),(a||s)&&f.createElement("div",{className:Q.footer},f.createElement("div",{className:Q["actions-section"]},a&&f.createElement("div",{className:Q.actions},a),s&&f.createElement("div",{className:Q["secondary-actions"]},s))),t&&f.createElement(Se,{hidden:!0,tagName:"span",assertive:!0},_,", ",t)))}const st=({variant:e="full-page",actions:n,errorText:t,__internalRootRef:i,...a})=>{const s=g.useRef(null),o=le(s,i),{funnelIdentifier:d,funnelInteractionId:r,funnelProps:v,funnelSubmit:l,funnelNextOrSubmitAttempt:m,errorCount:_,submissionAttempt:w,funnelErrorContext:E}=In(),h=wn(),N=({variant:x})=>{x==="primary"&&(m(),l())},A=ce("form-error-");return g.useEffect(()=>{var x,C;if(r&&t){_.current++;const p=En(h.current.stepNameSelector);return Rn.funnelStepError({funnelInteractionId:r,stepNumber:h.current.stepNumber,stepNameSelector:h.current.stepNameSelector,stepName:p,stepIdentifier:h.current.stepIdentifier,currentDocument:(x=s.current)===null||x===void 0?void 0:x.ownerDocument,totalSubSteps:h.current.subStepCount.current,funnelIdentifier:d,subStepAllSelector:Cn(),errorContext:h.current.stepErrorContext,subStepConfiguration:(C=h.current.subStepConfiguration.current)===null||C===void 0?void 0:C.get(h.current.stepNumber),stepErrorSelector:"#"+A}),()=>{_.current--}}},[r,d,t,w,_,E,A,h]),f.createElement(An.Provider,{value:{onClick:N}},f.createElement(rt,{variant:e,actions:n,errorText:t,__errorSlotId:A,...a,...v,...h.current.funnelStepProps,__internalRootRef:o,__injectAnalyticsComponentMetadata:!0}))};function lt({variant:e="full-page",...n}){const t=_n(n),i=Ie("Form",{props:{variant:e,flowType:t?.flowType},metadata:{hasResourceType:!!t?.resourceType,hasInstanceIdentifier:!!t?.instanceIdentifier}},t),s=pn()||`.${re.header} .${gn["heading-text"]}`;return f.createElement(hn,{funnelIdentifier:t?.instanceIdentifier,funnelFlowType:t?.flowType,funnelErrorContext:t?.errorContext,funnelResourceType:t?.resourceType,funnelType:"single-page",optionalStepNumbers:[],totalFunnelSteps:1,funnelNameSelectors:()=>[s,`.${re.header}`],componentSelectors:()=>[`.${re.root}`]},f.createElement(bn,{stepIdentifier:t?.instanceIdentifier,stepErrorContext:t?.errorContext,stepNumber:1},f.createElement(st,{variant:e,...n,...i})))}we(lt,"Form");const ct=f.forwardRef(({value:e,type:n="text",step:t,inputMode:i,autoComplete:a=!0,spellcheck:s,disabled:o,readOnly:d,disableBrowserAutocorrect:r,onKeyDown:v,onKeyUp:l,onChange:m,onBlur:_,onFocus:w,ariaRequired:E,name:h,placeholder:N,autoFocus:A,ariaLabel:x,ariaLabelledby:C,ariaDescribedby:p,invalid:R,warning:b,controlId:S,clearAriaLabel:F,nativeInputAttributes:P,style:k,...W},O)=>{const V=Ie("Input",{props:{autoComplete:a,autoFocus:A,disableBrowserAutocorrect:r,inputMode:i,readOnly:d,spellcheck:s,type:n}}),D=ge(W),y=g.useRef(null);return g.useImperativeHandle(O,()=>({focus(...I){var T;(T=y.current)===null||T===void 0||T.focus(...I)},select(){var I;(I=y.current)===null||I===void 0||I.select()}}),[y]),f.createElement(Nn,{ref:y,...D,...V,autoComplete:a,ariaLabel:x,ariaRequired:E,autoFocus:A,disabled:o,disableBrowserAutocorrect:r,name:h,onKeyDown:v,onKeyUp:l,onChange:m,onBlur:_,onFocus:w,placeholder:N,readOnly:d,type:n,step:t,inputMode:i,spellcheck:s,value:e,ariaDescribedby:p,ariaLabelledby:C,invalid:R,warning:b,controlId:S,clearAriaLabel:F,nativeInputAttributes:P,style:k,className:q(Bn.root,D.className),__inheritFormFieldProps:!0,__injectAnalyticsComponentMetadata:!0})});we(ct,"Input");export{at as F,ct as I,lt as a};
