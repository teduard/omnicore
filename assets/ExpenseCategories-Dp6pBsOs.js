import{R as x,f as k,h as L,g as $,i as S,k as T,l as F,m as _,n as N,o as M,u as y,r as h,j as e,H as z,S as f,B as b,E as m,p as H,c as P,D as G}from"./index-Dz3i6rf-.js";import"./index-Dn3uc2iY.js";import{E as O}from"./ExpenseLayout-DywuebGD.js";import{T as K,I as W}from"./index-C-ejrF0n.js";import"./use-select-Bn8yTUzk.js";const D=x.forwardRef(({items:n,variant:s="normal",loading:c=!1,loadingText:p,disabled:r=!1,disabledReason:d,expandableGroups:l=!1,expandToViewport:i=!1,ariaLabel:u,children:g,onItemClick:t,onItemFollow:a,mainAction:o,fullWidth:j,nativeMainActionAttributes:I,nativeTriggerAttributes:C,renderItem:B,...E},v)=>{const A=k("ButtonDropdown",{props:{expandToViewport:i,expandableGroups:l,variant:s},metadata:{mainAction:!!o,checkboxItems:$(n),hasDisabledReason:!!d,hasDisabledReasons:L(n)}}),w=S(E),R={name:"awsui.ButtonDropdown",label:`.${_["trigger-label"]}`,properties:{variant:s,disabled:`${r}`}};return x.createElement(T,{...w,...A,renderItem:B,ref:v,items:n,variant:s,loading:c,loadingText:p,disabled:r,disabledReason:d,expandableGroups:l,expandToViewport:i,ariaLabel:u,onItemClick:t,onItemFollow:a,mainAction:o,fullWidth:j,nativeMainActionAttributes:I,nativeTriggerAttributes:C,...F({component:R})},g)});N(D,"ButtonDropdown");function Y(){const{execute:n,isReady:s}=M(),c=y(),p=[{name:"empty",created_date:"2026/02/19"}],[r,d]=h.useState(p),l=()=>{const t=new Array,a=n("SELECT * FROM Categories");console.log("fetch categories. res = ",a),!a||a.length===0?console.log("no categories"):(a[0].values.map(o=>{t.push({category_id:o[0],user_id:o[1],name:o[2],created_date:o[3]})}),console.log("catData:",t),d(t))};h.useEffect(()=>{s&&l()},[s]);const[i,u]=h.useState([]),g=t=>{switch(t.detail.id){case"edit":console.log("edit category");break;case"delete":console.log("delete category"),console.log(t.detail),console.log("selectedItems = ",i),n(`DELETE FROM Categories where category_id = '${i[0].category_id}'`),l();break}};return e.jsx(e.Fragment,{children:e.jsx(K,{renderAriaLive:({firstIndex:t,lastIndex:a,totalItemsCount:o})=>`Displaying items ${t} to ${a} of ${o}`,onSelectionChange:({detail:t})=>u(t.selectedItems),selectedItems:i,ariaLabels:{selectionGroupLabel:"Items selection",allItemsSelectionLabel:()=>"select all",itemSelectionLabel:({selectedItems:t},a)=>a.name},columnDefinitions:[{id:"variable",header:"Name",cell:t=>t.name,isRowHeader:!0},{id:"value",header:"Creation date",cell:t=>t.created_date},{id:"description",header:"Number of expenses",cell:t=>0}],columnDisplay:[{id:"variable",visible:!0},{id:"value",visible:!0},{id:"type",visible:!0},{id:"description",visible:!0}],enableKeyboardNavigation:!0,items:r,loadingText:"Loading categories",selectionType:"single",trackBy:"name",empty:e.jsx(H,{margin:{vertical:"xs"},textAlign:"center",color:"inherit",children:e.jsxs(f,{size:"m",children:[e.jsx("b",{children:"No category"}),e.jsx(b,{onClick:()=>c(`${m.path}/categories/add`),children:"Add category"})]})}),header:e.jsx(z,{counter:i.length?"("+i.length+`/${r.length})`:`(${r.length})`,actions:e.jsxs(f,{direction:"horizontal",size:"xs",children:[e.jsx(D,{onItemClick:g,items:[{text:"Edit",id:"edit",disabled:!1},{text:"Delete",id:"delete",disabled:!1}],children:"Actions"}),e.jsx(b,{variant:"primary",onClick:()=>c(`${m.path}/categories/add`),children:"Add category"}),e.jsxs(b,{onClick:l,children:[" ",e.jsx(W,{name:"refresh"})]})]}),children:"Your categories"})})})}function q(){const n=y();return e.jsx(P,{items:[{text:"Dashboard",href:G.path},{text:"Expense",href:`${m.path}`},{text:"All Categories",href:`${m.path}/categories`}],expandAriaLabel:"Show path",ariaLabel:"Breadcrumbs",onFollow:s=>{s.detail.external||(s.preventDefault(),n(s.detail.href))}})}function J(){return e.jsx(e.Fragment,{children:e.jsx(Y,{})})}function ee(){return e.jsx(e.Fragment,{children:e.jsx(O,{content:e.jsx(J,{}),breadcrumbs:e.jsx(q,{})})})}export{ee as default};
